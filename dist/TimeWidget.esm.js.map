{"version":3,"file":"TimeWidget.esm.js","sources":["../node_modules/date-fns/esm/_lib/toInteger/index.js","../node_modules/date-fns/esm/_lib/requiredArgs/index.js","../node_modules/date-fns/esm/toDate/index.js","../node_modules/date-fns/esm/addDays/index.js","../node_modules/date-fns/esm/addMonths/index.js","../node_modules/date-fns/esm/add/index.js","../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../node_modules/date-fns/esm/startOfDay/index.js","../node_modules/date-fns/esm/differenceInCalendarDays/index.js","../node_modules/date-fns/esm/compareAsc/index.js","../node_modules/date-fns/esm/constants/index.js","../node_modules/date-fns/esm/differenceInCalendarMonths/index.js","../node_modules/date-fns/esm/differenceInCalendarYears/index.js","../node_modules/date-fns/esm/differenceInDays/index.js","../node_modules/date-fns/esm/differenceInMilliseconds/index.js","../node_modules/date-fns/esm/_lib/roundingMethods/index.js","../node_modules/date-fns/esm/differenceInHours/index.js","../node_modules/date-fns/esm/differenceInMinutes/index.js","../node_modules/date-fns/esm/endOfDay/index.js","../node_modules/date-fns/esm/endOfMonth/index.js","../node_modules/date-fns/esm/isLastDayOfMonth/index.js","../node_modules/date-fns/esm/differenceInMonths/index.js","../node_modules/date-fns/esm/differenceInSeconds/index.js","../node_modules/date-fns/esm/differenceInYears/index.js","../node_modules/date-fns/esm/intervalToDuration/index.js","../node_modules/date-fns/esm/subDays/index.js","../node_modules/date-fns/esm/subMonths/index.js","../node_modules/date-fns/esm/sub/index.js","../src/utils.js","../src/Timeline.js","../src/TimelineDetails.js","../src/TimeLineOverview.js","../node_modules/throttle-debounce/esm/index.js","../src/BVH.js","../node_modules/htl/src/index.js","../src/BrushTooltipEditable.js","../src/BrushContextMenu.js","../src/BrushInteraction.js","../src/TimeWidget.js"],"sourcesContent":["export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\n\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  date.setDate(date.getDate() + amount);\n  return date;\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\n\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  var dayOfMonth = date.getDate(); // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport addDays from \"../addDays/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n\n/**\n * @name add\n * @category Common Helpers\n * @summary Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @description\n * Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Duration} duration - the object with years, months, weeks, days, hours, minutes and seconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n *\n * | Key            | Description                        |\n * |----------------|------------------------------------|\n * | years          | Amount of years to be added        |\n * | months         | Amount of months to be added       |\n * | weeks          | Amount of weeks to be added        |\n * | days           | Amount of days to be added         |\n * | hours          | Amount of hours to be added        |\n * | minutes        | Amount of minutes to be added      |\n * | seconds        | Amount of seconds to be added      |\n *\n * All values default to 0\n *\n * @returns {Date} the new date with the seconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add the following duration to 1 September 2014, 10:19:50\n * const result = add(new Date(2014, 8, 1, 10, 19, 50), {\n *   years: 2,\n *   months: 9,\n *   weeks: 1,\n *   days: 7,\n *   hours: 5,\n *   minutes: 9,\n *   seconds: 30,\n * })\n * //=> Thu Jun 15 2017 15:29:20\n */\nexport default function add(dirtyDate, duration) {\n  requiredArgs(2, arguments);\n  if (!duration || _typeof(duration) !== 'object') return new Date(NaN);\n  var years = duration.years ? toInteger(duration.years) : 0;\n  var months = duration.months ? toInteger(duration.months) : 0;\n  var weeks = duration.weeks ? toInteger(duration.weeks) : 0;\n  var days = duration.days ? toInteger(duration.days) : 0;\n  var hours = duration.hours ? toInteger(duration.hours) : 0;\n  var minutes = duration.minutes ? toInteger(duration.minutes) : 0;\n  var seconds = duration.seconds ? toInteger(duration.seconds) : 0; // Add years and months\n\n  var date = toDate(dirtyDate);\n  var dateWithMonths = months || years ? addMonths(date, months + years * 12) : date; // Add weeks and days\n\n  var dateWithDays = days || weeks ? addDays(dateWithMonths, days + weeks * 7) : dateWithMonths; // Add days, hours, minutes and seconds\n\n  var minutesToAdd = minutes + hours * 60;\n  var secondsToAdd = seconds + minutesToAdd * 60;\n  var msToAdd = secondsToAdd * 1000;\n  var finalDate = new Date(dateWithDays.getTime() + msToAdd);\n  return finalDate;\n}","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\n\nexport default function startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000;\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\n\nexport default function differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var startOfDayLeft = startOfDay(dirtyDateLeft);\n  var startOfDayRight = startOfDay(dirtyDateRight);\n  var timestampLeft = startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  var timestampRight = startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * @param {Date|Number} dateLeft - the first date to compare\n * @param {Date|Number} dateRight - the second date to compare\n * @returns {Number} the result of the comparison\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\n\nexport default function compareAsc(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var diff = dateLeft.getTime() - dateRight.getTime();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1; // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}","/**\n * Days in 1 week.\n *\n * @name daysInWeek\n * @constant\n * @type {number}\n * @default\n */\nexport var daysInWeek = 7;\n/**\n * Days in 1 year\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n *\n * @name daysInYear\n * @constant\n * @type {number}\n * @default\n */\n\nexport var daysInYear = 365.2425;\n/**\n * Maximum allowed time.\n *\n * @name maxTime\n * @constant\n * @type {number}\n * @default\n */\n\nexport var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n/**\n * Milliseconds in 1 minute\n *\n * @name millisecondsInMinute\n * @constant\n * @type {number}\n * @default\n */\n\nexport var millisecondsInMinute = 60000;\n/**\n * Milliseconds in 1 hour\n *\n * @name millisecondsInHour\n * @constant\n * @type {number}\n * @default\n */\n\nexport var millisecondsInHour = 3600000;\n/**\n * Milliseconds in 1 second\n *\n * @name millisecondsInSecond\n * @constant\n * @type {number}\n * @default\n */\n\nexport var millisecondsInSecond = 1000;\n/**\n * Minimum allowed time.\n *\n * @name minTime\n * @constant\n * @type {number}\n * @default\n */\n\nexport var minTime = -maxTime;\n/**\n * Minutes in 1 hour\n *\n * @name minutesInHour\n * @constant\n * @type {number}\n * @default\n */\n\nexport var minutesInHour = 60;\n/**\n * Months in 1 quarter\n *\n * @name monthsInQuarter\n * @constant\n * @type {number}\n * @default\n */\n\nexport var monthsInQuarter = 3;\n/**\n * Months in 1 year\n *\n * @name monthsInYear\n * @constant\n * @type {number}\n * @default\n */\n\nexport var monthsInYear = 12;\n/**\n * Quarters in 1 year\n *\n * @name quartersInYear\n * @constant\n * @type {number}\n * @default\n */\n\nexport var quartersInYear = 4;\n/**\n * Seconds in 1 hour\n *\n * @name secondsInHour\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInHour = 3600;\n/**\n * Seconds in 1 minute\n *\n * @name secondsInMinute\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInMinute = 60;\n/**\n * Seconds in 1 day\n *\n * @name secondsInDay\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInDay = secondsInHour * 24;\n/**\n * Seconds in 1 week\n *\n * @name secondsInWeek\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInWeek = secondsInDay * 7;\n/**\n * Seconds in 1 year\n *\n * @name secondsInYear\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInYear = secondsInDay * daysInYear;\n/**\n * Seconds in 1 month\n *\n * @name secondsInMonth\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInMonth = secondsInYear / 12;\n/**\n * Seconds in 1 quarter\n *\n * @name secondsInQuarter\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInQuarter = secondsInMonth * 3;","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar months\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\n\nexport default function differenceInCalendarMonths(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var yearDiff = dateLeft.getFullYear() - dateRight.getFullYear();\n  var monthDiff = dateLeft.getMonth() - dateRight.getMonth();\n  return yearDiff * 12 + monthDiff;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInCalendarYears\n * @category Year Helpers\n * @summary Get the number of calendar years between the given dates.\n *\n * @description\n * Get the number of calendar years between the given dates.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar years\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar years are between 31 December 2013 and 11 February 2015?\n * const result = differenceInCalendarYears(\n *   new Date(2015, 1, 11),\n *   new Date(2013, 11, 31)\n * )\n * //=> 2\n */\n\nexport default function differenceInCalendarYears(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getFullYear() - dateRight.getFullYear();\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarDays from \"../differenceInCalendarDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\"; // Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\n\nfunction compareLocalAsc(dateLeft, dateRight) {\n  var diff = dateLeft.getFullYear() - dateRight.getFullYear() || dateLeft.getMonth() - dateRight.getMonth() || dateLeft.getDate() - dateRight.getDate() || dateLeft.getHours() - dateRight.getHours() || dateLeft.getMinutes() - dateRight.getMinutes() || dateLeft.getSeconds() - dateRight.getSeconds() || dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1; // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.floor(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full days according to the local timezone\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n//=> 92\n */\n\n\nexport default function differenceInDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareLocalAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarDays(dateLeft, dateRight));\n  dateLeft.setDate(dateLeft.getDate() - sign * difference); // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n\n  var isLastDayNotFull = Number(compareLocalAsc(dateLeft, dateRight) === -sign);\n  var result = sign * (difference - isLastDayNotFull); // Prevent negative zero\n\n  return result === 0 ? 0 : result;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of milliseconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\n\nexport default function differenceInMilliseconds(dateLeft, dateRight) {\n  requiredArgs(2, arguments);\n  return toDate(dateLeft).getTime() - toDate(dateRight).getTime();\n}","var roundingMap = {\n  ceil: Math.ceil,\n  round: Math.round,\n  floor: Math.floor,\n  trunc: function trunc(value) {\n    return value < 0 ? Math.ceil(value) : Math.floor(value);\n  } // Math.trunc is not supported by IE\n\n};\nvar defaultRoundingMethod = 'trunc';\nexport function getRoundingMethod(method) {\n  return method ? roundingMap[method] : roundingMap[defaultRoundingMethod];\n}","import { millisecondsInHour } from \"../constants/index.js\";\nimport differenceInMilliseconds from \"../differenceInMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getRoundingMethod } from \"../_lib/roundingMethods/index.js\";\n/**\n * @name differenceInHours\n * @category Hour Helpers\n * @summary Get the number of hours between the given dates.\n *\n * @description\n * Get the number of hours between the given dates.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @param {Object} [options] - an object with options.\n * @param {String} [options.roundingMethod='trunc'] - a rounding method (`ceil`, `floor`, `round` or `trunc`)\n * @returns {Number} the number of hours\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many hours are between 2 July 2014 06:50:00 and 2 July 2014 19:00:00?\n * const result = differenceInHours(\n *   new Date(2014, 6, 2, 19, 0),\n *   new Date(2014, 6, 2, 6, 50)\n * )\n * //=> 12\n */\n\nexport default function differenceInHours(dateLeft, dateRight, options) {\n  requiredArgs(2, arguments);\n  var diff = differenceInMilliseconds(dateLeft, dateRight) / millisecondsInHour;\n  return getRoundingMethod(options === null || options === void 0 ? void 0 : options.roundingMethod)(diff);\n}","import { millisecondsInMinute } from \"../constants/index.js\";\nimport differenceInMilliseconds from \"../differenceInMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getRoundingMethod } from \"../_lib/roundingMethods/index.js\";\n/**\n * @name differenceInMinutes\n * @category Minute Helpers\n * @summary Get the number of minutes between the given dates.\n *\n * @description\n * Get the signed number of full (rounded towards 0) minutes between the given dates.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @param {Object} [options] - an object with options.\n * @param {String} [options.roundingMethod='trunc'] - a rounding method (`ceil`, `floor`, `round` or `trunc`)\n * @returns {Number} the number of minutes\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many minutes are between 2 July 2014 12:07:59 and 2 July 2014 12:20:00?\n * const result = differenceInMinutes(\n *   new Date(2014, 6, 2, 12, 20, 0),\n *   new Date(2014, 6, 2, 12, 7, 59)\n * )\n * //=> 12\n *\n * @example\n * // How many minutes are between 10:01:59 and 10:00:00\n * const result = differenceInMinutes(\n *   new Date(2000, 0, 1, 10, 0, 0),\n *   new Date(2000, 0, 1, 10, 1, 59)\n * )\n * //=> -1\n */\n\nexport default function differenceInMinutes(dateLeft, dateRight, options) {\n  requiredArgs(2, arguments);\n  var diff = differenceInMilliseconds(dateLeft, dateRight) / millisecondsInMinute;\n  return getRoundingMethod(options === null || options === void 0 ? void 0 : options.roundingMethod)(diff);\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\n\nexport default function endOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\n\nexport default function endOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport endOfDay from \"../endOfDay/index.js\";\nimport endOfMonth from \"../endOfMonth/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * @param {Date|Number} date - the date to check\n * @returns {Boolean} the date is the last day of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * const result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\n\nexport default function isLastDayOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  return endOfDay(date).getTime() === endOfMonth(date).getTime();\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarMonths from \"../differenceInCalendarMonths/index.js\";\nimport compareAsc from \"../compareAsc/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport isLastDayOfMonth from \"../isLastDayOfMonth/index.js\";\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @description\n * Get the number of full months between the given dates using trunc as a default rounding method.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full months\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\n\nexport default function differenceInMonths(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarMonths(dateLeft, dateRight));\n  var result; // Check for the difference of less than month\n\n  if (difference < 1) {\n    result = 0;\n  } else {\n    if (dateLeft.getMonth() === 1 && dateLeft.getDate() > 27) {\n      // This will check if the date is end of Feb and assign a higher end of month date\n      // to compare it with Jan\n      dateLeft.setDate(30);\n    }\n\n    dateLeft.setMonth(dateLeft.getMonth() - sign * difference); // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full\n    // If so, result must be decreased by 1 in absolute value\n\n    var isLastMonthNotFull = compareAsc(dateLeft, dateRight) === -sign; // Check for cases of one full calendar month\n\n    if (isLastDayOfMonth(toDate(dirtyDateLeft)) && difference === 1 && compareAsc(dirtyDateLeft, dateRight) === 1) {\n      isLastMonthNotFull = false;\n    }\n\n    result = sign * (difference - Number(isLastMonthNotFull));\n  } // Prevent negative zero\n\n\n  return result === 0 ? 0 : result;\n}","import differenceInMilliseconds from \"../differenceInMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getRoundingMethod } from \"../_lib/roundingMethods/index.js\";\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @param {Object} [options] - an object with options.\n * @param {String} [options.roundingMethod='trunc'] - a rounding method (`ceil`, `floor`, `round` or `trunc`)\n * @returns {Number} the number of seconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\n\nexport default function differenceInSeconds(dateLeft, dateRight, options) {\n  requiredArgs(2, arguments);\n  var diff = differenceInMilliseconds(dateLeft, dateRight) / 1000;\n  return getRoundingMethod(options === null || options === void 0 ? void 0 : options.roundingMethod)(diff);\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarYears from \"../differenceInCalendarYears/index.js\";\nimport compareAsc from \"../compareAsc/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInYears\n * @category Year Helpers\n * @summary Get the number of full years between the given dates.\n *\n * @description\n * Get the number of full years between the given dates.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full years\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full years are between 31 December 2013 and 11 February 2015?\n * const result = differenceInYears(new Date(2015, 1, 11), new Date(2013, 11, 31))\n * //=> 1\n */\n\nexport default function differenceInYears(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarYears(dateLeft, dateRight)); // Set both dates to a valid leap year for accurate comparison when dealing\n  // with leap days\n\n  dateLeft.setFullYear(1584);\n  dateRight.setFullYear(1584); // Math.abs(diff in full years - diff in calendar years) === 1 if last calendar year is not full\n  // If so, result must be decreased by 1 in absolute value\n\n  var isLastYearNotFull = compareAsc(dateLeft, dateRight) === -sign;\n  var result = sign * (difference - Number(isLastYearNotFull)); // Prevent negative zero\n\n  return result === 0 ? 0 : result;\n}","import compareAsc from \"../compareAsc/index.js\";\nimport add from \"../add/index.js\";\nimport differenceInDays from \"../differenceInDays/index.js\";\nimport differenceInHours from \"../differenceInHours/index.js\";\nimport differenceInMinutes from \"../differenceInMinutes/index.js\";\nimport differenceInMonths from \"../differenceInMonths/index.js\";\nimport differenceInSeconds from \"../differenceInSeconds/index.js\";\nimport differenceInYears from \"../differenceInYears/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name intervalToDuration\n * @category Common Helpers\n * @summary Convert interval to duration\n *\n * @description\n * Convert a interval object to a duration object.\n *\n * @param {Interval} interval - the interval to convert to duration\n *\n * @returns {Duration} The duration Object\n * @throws {TypeError} Requires 2 arguments\n * @throws {RangeError} `start` must not be Invalid Date\n * @throws {RangeError} `end` must not be Invalid Date\n *\n * @example\n * // Get the duration between January 15, 1929 and April 4, 1968.\n * intervalToDuration({\n *   start: new Date(1929, 0, 15, 12, 0, 0),\n *   end: new Date(1968, 3, 4, 19, 5, 0)\n * })\n * // => { years: 39, months: 2, days: 20, hours: 7, minutes: 5, seconds: 0 }\n */\n\nexport default function intervalToDuration(interval) {\n  requiredArgs(1, arguments);\n  var start = toDate(interval.start);\n  var end = toDate(interval.end);\n  if (isNaN(start.getTime())) throw new RangeError('Start Date is invalid');\n  if (isNaN(end.getTime())) throw new RangeError('End Date is invalid');\n  var duration = {};\n  duration.years = Math.abs(differenceInYears(end, start));\n  var sign = compareAsc(end, start);\n  var remainingMonths = add(start, {\n    years: sign * duration.years\n  });\n  duration.months = Math.abs(differenceInMonths(end, remainingMonths));\n  var remainingDays = add(remainingMonths, {\n    months: sign * duration.months\n  });\n  duration.days = Math.abs(differenceInDays(end, remainingDays));\n  var remainingHours = add(remainingDays, {\n    days: sign * duration.days\n  });\n  duration.hours = Math.abs(differenceInHours(end, remainingHours));\n  var remainingMinutes = add(remainingHours, {\n    hours: sign * duration.hours\n  });\n  duration.minutes = Math.abs(differenceInMinutes(end, remainingMinutes));\n  var remainingSeconds = add(remainingMinutes, {\n    minutes: sign * duration.minutes\n  });\n  duration.seconds = Math.abs(differenceInSeconds(end, remainingSeconds));\n  return duration;\n}","import addDays from \"../addDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @description\n * Subtract the specified number of days from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the days subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\n\nexport default function subDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addDays(dirtyDate, -amount);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * const result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function subMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, -amount);\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport subDays from \"../subDays/index.js\";\nimport subMonths from \"../subMonths/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name sub\n * @category Common Helpers\n * @summary Subtract the specified years, months, weeks, days, hours, minutes and seconds from the given date.\n *\n * @description\n * Subtract the specified years, months, weeks, days, hours, minutes and seconds from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Duration} duration - the object with years, months, weeks, days, hours, minutes and seconds to be subtracted\n *\n * | Key     | Description                        |\n * |---------|------------------------------------|\n * | years   | Amount of years to be subtracted   |\n * | months  | Amount of months to be subtracted  |\n * | weeks   | Amount of weeks to be subtracted   |\n * | days    | Amount of days to be subtracted    |\n * | hours   | Amount of hours to be subtracted   |\n * | minutes | Amount of minutes to be subtracted |\n * | seconds | Amount of seconds to be subtracted |\n *\n * All values default to 0\n *\n * @returns {Date} the new date with the seconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract the following duration from 15 June 2017 15:29:20\n * const result = sub(new Date(2017, 5, 15, 15, 29, 20), {\n *   years: 2,\n *   months: 9,\n *   weeks: 1,\n *   days: 7,\n *   hours: 5,\n *   minutes: 9,\n *   seconds: 30\n * })\n * //=> Mon Sep 1 2014 10:19:50\n */\n\nexport default function sub(date, duration) {\n  requiredArgs(2, arguments);\n  if (!duration || _typeof(duration) !== 'object') return new Date(NaN);\n  var years = duration.years ? toInteger(duration.years) : 0;\n  var months = duration.months ? toInteger(duration.months) : 0;\n  var weeks = duration.weeks ? toInteger(duration.weeks) : 0;\n  var days = duration.days ? toInteger(duration.days) : 0;\n  var hours = duration.hours ? toInteger(duration.hours) : 0;\n  var minutes = duration.minutes ? toInteger(duration.minutes) : 0;\n  var seconds = duration.seconds ? toInteger(duration.seconds) : 0; // Subtract years and months\n\n  var dateWithoutMonths = subMonths(date, months + years * 12); // Subtract weeks and days\n\n  var dateWithoutDays = subDays(dateWithoutMonths, days + weeks * 7); // Subtract hours, minutes and seconds\n\n  var minutestoSub = minutes + hours * 60;\n  var secondstoSub = seconds + minutestoSub * 60;\n  var mstoSub = secondstoSub * 1000;\n  var finalDate = new Date(dateWithoutDays.getTime() - mstoSub);\n  return finalDate;\n}","import * as d3 from \"d3\";\r\n\r\nlet DEBUG = true;\r\nlet before = 0;\r\n\r\nexport function log() {\r\n  if (DEBUG) console.log(performance.now() - before, ...arguments);\r\n  before = performance.now();\r\n}\r\n\r\nexport function darken(color, k = 1) {\r\n  const { l, c, h } = d3.lch(color);\r\n  return d3.lch(l - 18 * k, c, h);\r\n}\r\n\r\nexport function compareSets(set1, set2) {\r\n  if (set1 === set2) return true;\r\n  if (set1 === null) return false;\r\n  if (set2 === null) return false;\r\n\r\n  if (set1.size !== set2.size) return false;\r\n\r\n  for (const val of set1) {\r\n    if (!set2.has(val)) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function isInsideDomain(domain, scaleX, scaleY) {\r\n  let scaleXDomain = scaleX.domain();\r\n  let scaleYDomain = scaleY.domain();\r\n  let domainX = [domain[0][0], domain[1][0]];\r\n  let domainY = [domain[1][1], domain[0][1]];\r\n\r\n  return (\r\n    domainX[0] > scaleXDomain[0] &&\r\n    domainX[1] < scaleXDomain[1] &&\r\n    domainY[0] > scaleYDomain[0] &&\r\n    domainY[1] < scaleYDomain[1]\r\n  );\r\n}\r\n\r\nexport const eventType = Object.freeze({\r\n  changeSelection: \"changeSelection\",\r\n  addBrushGroup: \"newBrushGroup\",\r\n  removeBrushGroup: \"deleteBrushGroup\",\r\n  selectBrushGroup: \"selectBrushGroup\",\r\n  changeNonSelected: \"changeNonSelected\",\r\n  changeBrushGroupState: \"changeBrushGroupState\",\r\n  deselectAllBrushes: \"deselectAllBrushes\",\r\n  highlightSelection: \"highlightSelection\",\r\n  update: \"update\",\r\n});\r\n\r\nexport const BrushModes = Object.freeze({\r\n  Intersect: \"intersect\",\r\n  Contains: \"contains\",\r\n});\r\n\r\nexport const BrushAggregation = Object.freeze({\r\n  And: \"and\",\r\n  Or: \"OR\",\r\n});\r\n","import * as d3 from \"d3\";\r\n\r\n// import {log} from \"./utils.js\";\r\n\r\nfunction Timeline({\r\n  points = [],\r\n  width = 600,\r\n  height = 300,\r\n  margin = { top: 10, left: 40, right: 10, bottom: 10 },\r\n  xScale = d3.scaleLinear().range([0, width]),\r\n  yScale = d3.scaleLinear().range([height, 0]),\r\n  x = (d) => d[0],\r\n  y = (d) => d[1],\r\n  line = d3.line(),\r\n  title = \"\",\r\n  target = null, // where to draw it\r\n  renderer = \"canvas\",\r\n  pointRadius = 1.5,\r\n  strokeColor = \"#777\",\r\n} = {}) {\r\n  let div = (target ? d3.select(target) : d3.create(\"div\"))\r\n    .attr(\"class\", \"details\")\r\n    .style(\"position\", \"relative\");\r\n\r\n  // cleanup\r\n  div.selectAll(\"*\").remove();\r\n\r\n  let canvas = div\r\n    .append(\"canvas\")\r\n    .style(\"position\", \"absolute\")\r\n    .style(\"top\", `${margin.top}px`)\r\n    .style(\"left\", `${margin.left}px`)\r\n    .style(\"height\", height + \"px\")\r\n    .style(\"width\", width + \"px\")\r\n    .style(\"pointer-events\", \"none\");\r\n  let context = canvas.node().getContext(\"2d\");\r\n\r\n  // https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio\r\n  const scale = window.devicePixelRatio || 1;\r\n  canvas\r\n    .attr(\"height\", Math.floor(height * scale))\r\n    .attr(\"width\", Math.floor(width * scale));\r\n  // Normalize coordinate system to use CSS pixels.\r\n  context.scale(scale, scale);\r\n\r\n  let g = div\r\n    .append(\"svg\")\r\n    .attr(\"viewBox\", [0, 0, width, height])\r\n    .attr(\"height\", height)\r\n    .attr(\"width\", width)\r\n    .append(\"g\")\r\n    .attr(\"class\", \"gDrawing\")\r\n    .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\r\n\r\n  g.append(\"g\")\r\n    .attr(\"class\", \"detailsYAxis\")\r\n    .call(d3.axisLeft(yScale).ticks(Math.floor(height / 30)));\r\n\r\n  g.append(\"g\")\r\n    .attr(\"class\", \"detailsXAxis\")\r\n    .call(d3.axisBottom(xScale))\r\n    .attr(\"transform\", `translate(0, ${height - margin.top - margin.bottom})`);\r\n\r\n  g.append(\"text\")\r\n    .text(title)\r\n    .attr(\"transform\", \"translate(10, 0)\")\r\n    .style(\"fill\", strokeColor)\r\n    .style(\"font-size\", \"0.7em\");\r\n\r\n  if (renderer.toUpperCase() == \"SVG\") {\r\n    g.append(\"path\")\r\n      .attr(\"d\", line(points))\r\n      .style(\"fill\", \"none\")\r\n      .style(\"stroke\", strokeColor);\r\n\r\n    g.append(\"points\")\r\n      .selectAll(\"circle\")\r\n      .data(points)\r\n      .join(\"circle\")\r\n      .attr(\"cx\", (d) => xScale(x(d)))\r\n      .attr(\"cx\", (d) => xScale(x(d)))\r\n      .attr(\"r\", pointRadius)\r\n      .attr(\"stroke\", strokeColor);\r\n  } else {\r\n    let path = new Path2D(line(points));\r\n    context.strokeStyle = strokeColor;\r\n    context.stroke(path);\r\n\r\n    context.beginPath();\r\n    for (let p of points) {\r\n      context.moveTo(xScale(x(p))+ pointRadius, yScale(y(p)) + pointRadius);\r\n      context.arc(xScale(x(p)), yScale(y(p)), pointRadius, 0, 2 * Math.PI);\r\n    }\r\n\r\n    context.stroke();\r\n  }\r\n\r\n  return div;\r\n}\r\n\r\nexport default Timeline;\r\n","import * as d3 from \"d3\";\r\n\r\n// import { log } from \"./utils.js\";\r\nimport Timeline from \"./Timeline.js\";\r\n\r\nfunction TimelineDetails({\r\n  ts,\r\n  detailsElement,\r\n  detailsContainerHeight,\r\n  detailsWidth,\r\n  maxDetailsRecords,\r\n  detailsHeight,\r\n  x,\r\n  y,\r\n  margin = {left: 50, top: 10, bottom: 20, right: 0},\r\n} = {}) {\r\n  const me = {};\r\n  let prerenderDetails = new Map();\r\n\r\n  const divDetails = d3\r\n    .select(detailsElement)\r\n    .attr(\"id\", \"detail\")\r\n    .style(\"height\", `${detailsContainerHeight}px`)\r\n    .style(\"width\", `${detailsWidth}px`)\r\n    .style(\"overflow-y\", \"scroll\")\r\n    .node();\r\n\r\n  const line = d3.line().defined((d) => y(d) !== undefined && y(d) !== null);\r\n\r\n  let detailsX, detailsY;\r\n\r\n  me.setScales = function ({overviewX, overviewY}) {\r\n    detailsX = overviewX.copy();\r\n    detailsX.range([0, detailsWidth - margin.right - margin.left]);\r\n\r\n    detailsY = overviewY.copy();\r\n    detailsY.range([detailsHeight - margin.top - margin.bottom, 0])\r\n      .nice()\r\n      .clamp(true);\r\n\r\n    line.x((d) => detailsX(+x(d))).y((d) => detailsY(y(d)));\r\n  };\r\n\r\n  // ts.observer = new IntersectionObserver(onDetailsScrolled, {\r\n  //   root: divDetails,\r\n  //   threshold: 0.1,\r\n  // });\r\n\r\n  me.generatePrerenderDetails = function (data) {\r\n    prerenderDetails = new Map();\r\n    // log(\"Prerendering Details:...\");\r\n    // data.forEach((d) => {\r\n    //   const div = Timeline({\r\n    //     width: detailsWidth,\r\n    //     height: detailsHeight,\r\n    //     margin: margin,\r\n    //     yScale: detailsY,\r\n    //     xScale: detailsX,\r\n    //     title: d[0],\r\n    //     points: d[1],\r\n    //     line: line,\r\n    //   });\r\n\r\n    //   prerenderDetails.set(d[0], div);\r\n    // });\r\n\r\n    // log(\"Prerendering Details: done\", prerenderDetails);\r\n    return prerenderDetails;\r\n  };\r\n\r\n  // function onDetailsScrolled(entries) {\r\n  //   log(\"onDetailsScrolled \", entries);\r\n  //   entries.forEach((entry) => {\r\n  //     if (entry.isIntersecting) {\r\n  //       let div = entry.target;\r\n  //       let group = div.getAttribute(\"group\");\r\n  //       // group = typeof groupedData[0][0] === \"number\" ? +group : group;\r\n  //       const prerenderDetailsEle = prerenderDetails.get(group);\r\n  //       if (!prerenderDetailsEle) {\r\n  //         console.log(\r\n  //           \"Error onDetailsScrolled couldn't find \",\r\n  //           group,\r\n  //           \" on \",\r\n  //           prerenderDetails\r\n  //         );\r\n  //         return;\r\n  //       }\r\n  //       div.appendChild(prerenderDetailsEle.node());\r\n  //     } else {\r\n  //       entry.target.innerHTML = \"\";\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  function renderDetailsCanvas({data, brushGroupSelected}) {\r\n    // let frag = document.createDocumentFragment();\r\n\r\n    let slicedData = maxDetailsRecords\r\n      ? data.get(brushGroupSelected).slice(0, maxDetailsRecords)\r\n      : data.get(brushGroupSelected);\r\n\r\n    // log(\"renderDetailsCanvas\", brushGroupSelected, data, slicedData);\r\n\r\n    divDetails.innerHTML = \"\";\r\n    d3.select(divDetails)\r\n      .selectAll(\"div.detailsContainer\")\r\n      .data(slicedData, (d) => d[0])\r\n      .join(\"div\")\r\n      .attr(\"class\", \"detailsContainer\")\r\n      .attr(\"group\", (d) => d[0])\r\n      .each(function (d) {\r\n        Timeline({\r\n          target: this,\r\n          width: detailsWidth,\r\n          height: detailsHeight,\r\n          margin,\r\n          yScale: detailsY,\r\n          xScale: detailsX,\r\n          x,\r\n          y,\r\n          title: d[0],\r\n          points: d[1],\r\n          line: line,\r\n        });\r\n      });\r\n\r\n    // for (let d of slicedData) {\r\n    //   // let div = document.createElement(\"div\");\r\n    //   div.node().className = \"detailsContainer\";\r\n    //   div.node().setAttribute(\"group\", d[0]);\r\n    //   // div.style.height = `${detailsHeight}px`;\r\n    //   // frag.appendChild(div);\r\n\r\n    //   divDetails.appendChild(div.node());\r\n    // }\r\n\r\n    // removed to reduce flickering\r\n    // divDetails.innerHTML = \"\";\r\n\r\n    // Observer API To only show in the details view the divs that are visible\r\n    // window.requestIdleCallback(() => {\r\n    //   divDetails.replaceChildren(frag);\r\n    //   divDetails.querySelectorAll(\".detailsContainer\").forEach((d) => {\r\n    //     ts.observer.observe(d);\r\n    //   });\r\n    // });\r\n  }\r\n\r\n  // function createDetailsChart(d) {\r\n  //   let g = d3\r\n  //     .select(this)\r\n  //     .append(\"svg\")\r\n  //     .attr(\"class\", \"details\")\r\n  //     .attr(\"viewBox\", [0, 0, detailsWidth, detailsHeight])\r\n  //     .attr(\"height\", detailsHeight)\r\n  //     .attr(\"width\", detailsWidth)\r\n  //     .append(\"g\");\r\n  //   g.attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\r\n\r\n  //   g.append(\"g\")\r\n  //     .attr(\"class\", \"mainYAxis\")\r\n  //     .call(d3.axisLeft(detailsY).ticks(Math.floor(detailsHeight / 20)));\r\n\r\n  //   g.append(\"g\")\r\n  //     .attr(\"class\", \"mainXAxis\")\r\n  //     .call(d3.axisBottom(detailsX))\r\n  //     .attr(\r\n  //       \"transform\",\r\n  //       `translate(0, ${detailsHeight - margin.top - margin.bottom})`\r\n  //     );\r\n\r\n  //   g.append(\"text\")\r\n  //     .text(d[0])\r\n  //     .attr(\"transform\", \"translate(10, 0)\")\r\n  //     .style(\"fill\", \"black\")\r\n  //     .style(\"font-size\", \"0.7em\");\r\n\r\n  //   g.selectAll(\".point\") //.select(\"#points\") //TODO make new G with id for this cricles\r\n  //     .data(d[1])\r\n  //     .join(\"circle\")\r\n  //     .attr(\"class\", \"point\")\r\n  //     .attr(\"cy\", (d) => detailsY(y(d)))\r\n  //     .attr(\"cx\", (d) => detailsX(x(d)))\r\n  //     .attr(\"fill\", \"black\")\r\n  //     .attr(\"r\", 2);\r\n\r\n  //   g.selectAll(\".lines\") //TODO add to the new G\r\n  //     .data([d])\r\n  //     .join(\"path\")\r\n  //     .attr(\"class\", \"line\")\r\n  //     .attr(\"d\", (g) => line(g[1]))\r\n  //     .style(\"fill\", \"none\")\r\n  //     .style(\"stroke\", \"black\");\r\n  // }\r\n\r\n  // me.renderDetailsSVG = function (data) {\r\n  //   const div = d3.select(divDetails);\r\n\r\n  //   let slicedData = maxDetailsRecords\r\n  //     ? data.slice(0, maxDetailsRecords)\r\n  //     : data;\r\n\r\n  //   div\r\n  //     .selectAll(\".details\")\r\n  //     .data(slicedData, (d) => d[0])\r\n  //     .join(\"div\")\r\n  //     .each(createDetailsChart);\r\n  // };\r\n\r\n  me.render = ({data, brushGroupSelected}) =>\r\n    renderDetailsCanvas({data, brushGroupSelected});\r\n\r\n  return me;\r\n}\r\n\r\nexport default TimelineDetails;\r\n","import * as d3 from \"d3\";\r\nimport { darken, log } from \"./utils.js\";\r\n\r\nfunction TimeLineOverview({\r\n  ts,\r\n  element,\r\n  width = 800,\r\n  height = 600,\r\n  x,\r\n  y,\r\n  groupAttr,\r\n}) {\r\n  let me = {};\r\n  let paths, overviewX, overviewY;\r\n\r\n  const divOverview = d3\r\n    .select(element)\r\n    .style(\"display\", \"flex\")\r\n    .style(\"flex-wrap\", \"wrap\")\r\n    .style(\"position\", \"relative\")\r\n    .style(\"top\", \"0px\")\r\n    .style(\"left\", \"0px\")\r\n    .style(\"background-color\", ts.backgroundColor);\r\n\r\n  let line = d3.line()\r\n    .defined((d) => y(d) !== undefined && y(d) !== null);\r\n  \r\n  let linem = d3.line();\r\n\r\n  const canvas = divOverview\r\n    .selectAll(\"canvas\")\r\n    .data([1])\r\n    .join(\"canvas\")\r\n    .attr(\"height\", height * window.devicePixelRatio)\r\n    .attr(\"width\", width * window.devicePixelRatio)\r\n    .style(\"position\", \"absolute\")\r\n    .style(\"z-index\", \"-1\")\r\n    .style(\"top\", `${ts.margin.top}px`)\r\n    .style(\"left\", `${ts.margin.left}px`)\r\n    .style(\"width\", `${width}px`)\r\n    .style(\"height\", `${height}px`)\r\n    .style(\"pointer-events\", \"none\");\r\n\r\n  const context = canvas.node().getContext(\"2d\");\r\n  context.scale(window.devicePixelRatio, window.devicePixelRatio);\r\n  //context.globalCompositeOperation = \"lighter\";\r\n\r\n  me.data = function (data) {\r\n    paths = new Map();\r\n    data.forEach((d) => {\r\n      let group = groupAttr ? groupAttr(d[1][0]) : null;\r\n      let pathObject = { path: new Path2D(line(d[1])), group: group };\r\n      paths.set(d[0], pathObject);\r\n    });\r\n  };\r\n\r\n  me.setScales = function ({ scaleX, scaleY }) {\r\n    overviewX = scaleX;\r\n    overviewY = scaleY;\r\n\r\n    line = line.x((d) => overviewX(+x(d))).y((d) => overviewY(y(d)));\r\n    linem = linem.x((d) => overviewX(d[0])).y((d) => overviewY(d[1]));\r\n  };\r\n\r\n  function renderOvwerview(\r\n    dataSelected,\r\n    groupSelected,\r\n    dataNotSelected,\r\n    medians,\r\n    hasSelection,\r\n    childSelections = [],\r\n    childPosition,\r\n    otherSelectionToHightlight\r\n  ) {\r\n    dataNotSelected = dataNotSelected ? dataNotSelected : [];\r\n    context.clearRect(0, 0, canvas.node().width, canvas.node().height);\r\n\r\n    if (!hasSelection) {\r\n      // Render all\r\n      renderOverviewCanvasSubset(\r\n        dataNotSelected,\r\n        ts.defaultAlpha,\r\n        ts.defaultColor\r\n      );\r\n    } else {\r\n      context.lineWidth = 1;\r\n\r\n      // Render Non selected\r\n      renderOverviewCanvasSubset(\r\n        dataNotSelected,\r\n        ts.noSelectedAlpha,\r\n        ts.noSelectedColor\r\n      );\r\n\r\n      dataSelected.forEach((data, group) => {\r\n        if (group !== groupSelected) {\r\n          let selectedColor = computeColor(group, childPosition);\r\n          console.log(\r\n            \"Render selected selectedColor\",\r\n            selectedColor,\r\n            group,\r\n            childPosition\r\n          );\r\n\r\n          // Render selected\r\n          renderOverviewCanvasSubset(\r\n            data,\r\n            ts.selectedAlpha,\r\n            selectedColor.toString(),\r\n            group\r\n          );\r\n        }\r\n      });\r\n\r\n      renderOverviewCanvasSubset(\r\n        dataSelected.get(groupSelected),\r\n        ts.selectedAlpha,\r\n        computeColor(groupSelected, childPosition).toString(),\r\n        groupSelected\r\n      );\r\n\r\n      // TODO configs for this\r\n      /*childSelections.forEach((selection, childIx) => {\r\n      if (childPosition !== childIx) {\r\n        let selection = childSelections[childIx];\r\n        selection.forEach((group, id) => {\r\n          let color = d3.hsl(ts.brushesColorScale(id));\r\n          color.s = 1;\r\n          color.l = lums[childIx]; //initLum + LStep * (childSelections.length - 1 - childIx);\r\n          renderOverviewCanvasSubset(group, ts.selectedAlpha, color);\r\n        });\r\n      }\r\n    }); */\r\n\r\n      // Render Highlighted selection\r\n      if (otherSelectionToHightlight) {\r\n        let positionTs = otherSelectionToHightlight.positionTs;\r\n        let groupId = otherSelectionToHightlight.groupId;\r\n        if (\r\n          positionTs !== childPosition &&\r\n          childSelections[positionTs] && // Can be null when start a new Brush\r\n          childSelections[positionTs].has(groupId)\r\n        ) {\r\n          let color = computeColor(groupId, positionTs);\r\n          renderOverviewCanvasSubset(\r\n            childSelections[positionTs].get(groupId),\r\n            ts.highlightAlpha,\r\n            color,\r\n            groupId\r\n          );\r\n        }\r\n      }\r\n\r\n      context.save();\r\n      // Render group Medians\r\n      if (medians) {\r\n        context.lineWidth = ts.medianLineWidth;\r\n        context.globalAlpha = ts.medianLineAlpha;\r\n\r\n        medians.forEach((d) => {\r\n          if (!d[1]) {\r\n            console.log(\"Error drawing medians, empty data\", d);\r\n            return;\r\n          }\r\n          let path = new Path2D(linem(d[1]));\r\n          context.setLineDash(ts.medianLineDash);\r\n          context.strokeStyle = darken(computeColor(d[0], childPosition));\r\n          context.stroke(path);\r\n        });\r\n      }\r\n      context.restore();\r\n    }\r\n  }\r\n\r\n  function computeColor(groupId, childPosition) {\r\n    if (childPosition !== undefined)\r\n      return ts.brushesColorScale[groupId](childPosition);\r\n\r\n    if (ts.brushesColorScale instanceof Array)\r\n      return ts.brushesColorScale[groupId](childPosition);\r\n\r\n    return ts.brushesColorScale(groupId);\r\n  }\r\n\r\n  // Pass a groupId when rendering a highlighted selection for a group\r\n  function renderOverviewCanvasSubset(\r\n    dataSubset,\r\n    alpha,\r\n    color,\r\n    groupId = null\r\n  ) {\r\n    if (!dataSubset) {\r\n      console.log(\"🚫 Error renderOverviewCanvasSubset called with no dataSubset\", dataSubset);\r\n      return;\r\n    }\r\n\r\n    //context.save();\r\n    // Compute the transparency with respect to the number of lines drawn\r\n    // Min 0.05, then adjust by the expected alpha divided by 10% of the number of lines\r\n    // context.globalAlpha = 0.05 + alpha / (dataSubset.length * 0.1);\r\n    context.globalAlpha = alpha * ts.alphaScale(dataSubset.length);\r\n\r\n    \r\n\r\n    for (let d of dataSubset) {\r\n      let path = paths.get(d[0]);\r\n      if (!path) {\r\n        console.log(\"renderOverviewCanvasSubset error finding path\", d[0], d);\r\n        return;\r\n      }\r\n      let strokeColor = color;\r\n      if (groupAttr) {\r\n        const baseGroupColor = ts.colorScale(path.group);\r\n        strokeColor = ts.selectedColorTransform(baseGroupColor, groupId);\r\n\r\n        // const { h, c, l, opacity } = d3.lch(baseGroupColor);\r\n        // strokeColor = d3.lch(l + ts.brushesColorScale(groupId), c, h, opacity);\r\n        // console.log(\r\n        //   \"group\",\r\n        //   groupId,\r\n\r\n        //   \"baseGroupColor\",\r\n        //   baseGroupColor,\r\n        //   h,\r\n        //   s,\r\n        //   l,\r\n        //   o,\r\n\r\n        //   \"after\",\r\n        //   strokeColor\r\n        // );\r\n      }\r\n      // context.strokeStyle = groupAttr ? ts.colorScale(path.group) : color;\r\n      context.strokeStyle = \"\" + strokeColor;\r\n      context.stroke(path.path);\r\n    }\r\n  }\r\n\r\n  me.render = function (\r\n    dataSelected,\r\n    dataNotSelected,\r\n    medians,\r\n    hasSelection,\r\n    childSelections,\r\n    childPosition,\r\n    otherSelectionToHightlight\r\n  ) {\r\n    renderOvwerview(\r\n      dataSelected,\r\n      dataNotSelected,\r\n      medians,\r\n      hasSelection,\r\n      childSelections,\r\n      childPosition,\r\n      otherSelectionToHightlight\r\n    );\r\n  };\r\n\r\n  return me;\r\n}\r\n\r\nexport default TimeLineOverview;\r\n","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param {number} delay -                  A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher)\n *                                            are most useful.\n * @param {Function} callback -               A function to be executed after delay milliseconds. The `this` context and all arguments are passed through,\n *                                            as-is, to `callback` when the throttled-function is executed.\n * @param {object} [options] -              An object to configure options.\n * @param {boolean} [options.noTrailing] -   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds\n *                                            while the throttled-function is being called. If noTrailing is false or unspecified, callback will be executed\n *                                            one final time after the last throttled-function call. (After the throttled-function has not been called for\n *                                            `delay` milliseconds, the internal counter is reset).\n * @param {boolean} [options.noLeading] -   Optional, defaults to false. If noLeading is false, the first throttled-function call will execute callback\n *                                            immediately. If noLeading is true, the first the callback execution will be skipped. It should be noted that\n *                                            callback will never executed if both noLeading = true and noTrailing = true.\n * @param {boolean} [options.debounceMode] - If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is\n *                                            false (at end), schedule `callback` to execute after `delay` ms.\n *\n * @returns {Function} A new, throttled, function.\n */\nfunction throttle (delay, callback, options) {\n  var _ref = options || {},\n      _ref$noTrailing = _ref.noTrailing,\n      noTrailing = _ref$noTrailing === void 0 ? false : _ref$noTrailing,\n      _ref$noLeading = _ref.noLeading,\n      noLeading = _ref$noLeading === void 0 ? false : _ref$noLeading,\n      _ref$debounceMode = _ref.debounceMode,\n      debounceMode = _ref$debounceMode === void 0 ? undefined : _ref$debounceMode;\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n\n\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel(options) {\n    var _ref2 = options || {},\n        _ref2$upcomingOnly = _ref2.upcomingOnly,\n        upcomingOnly = _ref2$upcomingOnly === void 0 ? false : _ref2$upcomingOnly;\n\n    clearExistingTimeout();\n    cancelled = !upcomingOnly;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    for (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n      arguments_[_key] = arguments[_key];\n    }\n\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, arguments_);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (!noLeading && debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`\n       * and noLeading != true.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      if (noLeading) {\n        /*\n         * In throttle mode with noLeading, if `delay` time has\n         * been exceeded, update `lastExec` and schedule `callback`\n         * to execute after `delay` ms.\n         */\n        lastExec = Date.now();\n\n        if (!noTrailing) {\n          timeoutID = setTimeout(debounceMode ? clear : exec, delay);\n        }\n      } else {\n        /*\n         * In throttle mode without noLeading, if `delay` time has been exceeded, execute\n         * `callback`.\n         */\n        exec();\n      }\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n\n/* eslint-disable no-undefined */\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param {number} delay -               A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param {Function} callback -          A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                        to `callback` when the debounced-function is executed.\n * @param {object} [options] -           An object to configure options.\n * @param {boolean} [options.atBegin] -  Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                        after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                        (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n *\n * @returns {Function} A new, debounced function.\n */\n\nfunction debounce (delay, callback, options) {\n  var _ref = options || {},\n      _ref$atBegin = _ref.atBegin,\n      atBegin = _ref$atBegin === void 0 ? false : _ref$atBegin;\n\n  return throttle(delay, callback, {\n    debounceMode: atBegin !== false\n  });\n}\n\nexport { debounce, throttle };\n//# sourceMappingURL=index.js.map\n","import { log } from \"./utils.js\";\r\nimport * as d3 from \"d3\";\r\n\r\n\r\n/*Data is an array of the next form\r\n[\r\n  [id,[[x0,y0],[x1,y1]...]]\r\n  .\r\n  .\r\n  .\r\n]\r\n */\r\nfunction BVH({\r\n  data,\r\n  xPartitions = 10,\r\n  yPartitions = 10,\r\n  polylines = true,\r\n}) {\r\n  let me = {};\r\n  let BVH = makeBVH();\r\n\r\n  function pupulateBVHPolylines(data, BVH) {\r\n    let xinc = BVH.xinc;\r\n    let yinc = BVH.yinc;\r\n    data.forEach((d) => {\r\n      let key = d[0];\r\n      let lastXindex = -1;\r\n      let lastYindex = -1;\r\n      for (let i = 0; i < d[1].length; ++i) {\r\n        let current = d[1][i];\r\n        let xCoor = current[0];\r\n        let yCoor = current[1];\r\n        if (xCoor != null && yCoor != null) {\r\n          let xIndex = Math.floor(xCoor / xinc);\r\n          let yIndex = Math.floor(yCoor / yinc);\r\n          if (isNaN(xIndex) || isNaN(yIndex)) {\r\n            log(\"ERROR: xIndex or YIndex is NaN: XCoor: \" + xCoor +\"; yCoor: \" + yCoor );\r\n          }\r\n\r\n          if (i === 0) {\r\n            BVH.BVH[xIndex][yIndex].data.set(key, [[current]]);\r\n          } else {\r\n            if (xIndex === lastXindex && yIndex === lastYindex) {\r\n              BVH.BVH[xIndex][yIndex].data.get(key).at(-1).push(current);\r\n            } else {\r\n              let previousCell = BVH.BVH[lastXindex][lastYindex];\r\n              previousCell.data.get(key).at(-1).push(current);\r\n              let previous = d[1][i - 1];\r\n              for (let row of BVH.BVH) {\r\n                for (let cell of row) {\r\n                  if (cell !== previousCell) {\r\n                    if (\r\n                      lineIntersection(\r\n                        [previous, current],\r\n                        cell.x0,\r\n                        cell.y0,\r\n                        cell.x1,\r\n                        cell.y1\r\n                      )\r\n                    ) {\r\n                      if (cell.data.has(key)) {\r\n                        cell.data.get(key).push([previous]);\r\n                        cell.data.get(key).at(-1).push(current);\r\n                      } else {\r\n                        cell.data.set(key, [[previous]]);\r\n                        cell.data.get(key).at(-1).push(current);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n          lastXindex = xIndex;\r\n          lastYindex = yIndex;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  function populateBVHPoints(data, BVH) {\r\n    let xinc = BVH.xinc;\r\n    let yinc = BVH.yinc;\r\n    data.forEach(d => {\r\n      let key = d[0];\r\n      for (let point of d[1]) {\r\n        let [x, y] = point;\r\n        let Iindex = Math.floor(x / xinc);\r\n        let Jindex = Math.floor(y / yinc);\r\n        let cell = BVH.BVH[Iindex][Jindex];\r\n\r\n        if (cell.data.has(key)) {\r\n          cell.data.get(key).push([x,y]);\r\n        } else {\r\n          cell.data.set(key,[x,y]);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  function makeBVH() {\r\n    let keys = data.map((d) => d[0]);\r\n    let allValues = data.map(d => d[1]).flat();\r\n    let extentX = d3.extent(allValues, d => d[0]);\r\n    let extentY = d3.extent(allValues, d => d[1]);\r\n    let width = (extentX[1] - extentX[0]) + 1;\r\n    let height = (extentY[1] - extentY[0]) + 1;\r\n    let xinc = width / xPartitions;\r\n    let yinc = height / yPartitions;\r\n    let BVH = {\r\n      width: width,\r\n      height: height,\r\n      xinc: xinc,\r\n      yinc: yinc,\r\n      offsetX: extentX[0],\r\n      offsetY: extentY[0],\r\n      keys: keys,\r\n      BVH: [],\r\n    };\r\n\r\n    for (let i = 0; i < xPartitions; ++i) {\r\n      BVH.BVH[i] = [];\r\n      let currentX = i * xinc;\r\n      for (let j = 0; j < yPartitions; ++j) {\r\n        let currentY = yinc * j;\r\n        BVH.BVH[i][j] = {\r\n          x0: currentX,\r\n          x1: currentX + xinc,\r\n          y0: currentY,\r\n          y1: currentY + yinc,\r\n          data: new Map(),\r\n        };\r\n      }\r\n    }\r\n\r\n    // Move the data to start at coordinates [0,0]\r\n    data = data.map(([k, v]) => [k, v.map(([x, y]) => [x - BVH.offsetX, y - BVH.offsetY])]);\r\n\r\n\r\n    if (polylines)\r\n      pupulateBVHPolylines(data, BVH);\r\n    else\r\n      populateBVHPoints(data, BVH);\r\n\r\n    return BVH;\r\n  }\r\n\r\n  function pointIntersection(point, x0, y0, x1, y1) {\r\n    let [px,py] = point;\r\n    return px >= x0 && px <= x1 && py >= y0 && py <= y1;\r\n  }\r\n\r\n  //Calculate the intersection with the first vertical line of the box.\r\n  function intersectX0(initPoint, finalPoint, x0, y0, x1, y1) {\r\n    let intersectX0 =\r\n      (initPoint[0] <= x0 && finalPoint[0] >= x0) ||\r\n      (initPoint[0] >= x0 && finalPoint[0] <= x0);\r\n    if (intersectX0) {\r\n      let m = (finalPoint[1] - initPoint[1]) / (finalPoint[0] - initPoint[0]);\r\n      let y = m * (x0 - initPoint[0]) + initPoint[1];\r\n      return y >= y0 && y <= y1;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function intersectX1(initPoint, finalPoint, x0, y0, x1, y1) {\r\n    let intersectX1 =\r\n      (initPoint[0] <= x1 && finalPoint[0]) >= x1 ||\r\n      (initPoint[0] >= x1 && finalPoint[0] <= x1);\r\n    if (intersectX1) {\r\n      let m = (finalPoint[1] - initPoint[1]) / (finalPoint[0] - initPoint[0]);\r\n      let y = m * (x1 - initPoint[0]) + initPoint[1];\r\n      return y >= y0 && y <= y1;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function intersectY0(initPoint, finalPoint, x0, y0, x1, y1) {\r\n    let intersectY0 =\r\n      (initPoint[1] <= y0 && finalPoint[1] >= y0) ||\r\n      (initPoint[1] >= y0 && finalPoint[1] <= y0);\r\n    if (intersectY0) {\r\n      let m = (finalPoint[1] - initPoint[1]) / (finalPoint[0] - initPoint[0]);\r\n      let x = (y0 - initPoint[1]) / m + initPoint[0];\r\n      return x >= x0 && x <= x1;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function intersectY1(initPoint, finalPoint, x0, y0, x1, y1) {\r\n    let intersectY1 =\r\n      (initPoint[1] >= y1 && finalPoint[1] <= y1) ||\r\n      (initPoint[1] <= y1 && finalPoint[1] >= y1);\r\n    if (intersectY1) {\r\n      let m = (finalPoint[1] - initPoint[1]) / (finalPoint[0] - initPoint[0]);\r\n      let x = (y1 - initPoint[1]) / m + initPoint[0];\r\n      return x >= x0 && x <= x1;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function lineIntersection(line, x0, y0, x1, y1) {\r\n    let initPoint = line[0];\r\n\r\n    for (let index = 1; index < line.length; ++index) {\r\n      let finalPoint = line[index];\r\n      if (intersectX0(initPoint, finalPoint, x0, y0, x1, y1)) return true;\r\n      if (intersectX1(initPoint, finalPoint, x0, y0, x1, y1)) return true;\r\n      if (intersectY0(initPoint, finalPoint, x0, y0, x1, y1)) return true;\r\n      if (intersectY1(initPoint, finalPoint, x0, y0, x1, y1)) return true;\r\n      initPoint = finalPoint;\r\n    }\r\n    return pointIntersection(initPoint, x0, y0, x1, y1);\r\n  }\r\n\r\n  function containIntersection(line, x0, y0, x1, y1) {\r\n    let initPoint = line[0];\r\n    let finalPoint = line[line.length - 1];\r\n    let isIntersectX0 = false;\r\n    let isIntersectX1 = false;\r\n\r\n    if (initPoint[0] < x0 && finalPoint[0] < x0) return undefined;\r\n    if (initPoint[0] > x1 && finalPoint[0] > x1) return undefined;\r\n\r\n    for (let index = 1; index < line.length; ++index) {\r\n      let finalPoint = line[index];\r\n      if (isIntersectX0 || intersectX0(initPoint, finalPoint, x0, y0, x1, y1)) isIntersectX0 = true;\r\n      if (isIntersectX1 || intersectX1(initPoint, finalPoint, x0, y0, x1, y1)) isIntersectX1 = true;\r\n      if (intersectY0(initPoint, finalPoint, x0, y0, x1, y1)) return false;\r\n      if (intersectY1(initPoint, finalPoint, x0, y0, x1, y1)) return false;\r\n      initPoint = finalPoint;\r\n    }\r\n\r\n    let isAllLineInside = !isIntersectX0 && !isIntersectX1;\r\n    if (isAllLineInside) {\r\n      return pointIntersection(line[0], x0, y0, x1, y1);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  // Returns the range of cells that collide with the given box. The result is of the form [[InitI,EndI],[INiJ, EndJ]]]\r\n  function getCollidingCells(x0, y0, x1, y1) {\r\n    if (x1 > BVH.width || y1 > BVH.height || x0 < 0 || y0 < 0)\r\n      log(\"👁️ BVH is called off limits\", [\r\n        [x0, y0],\r\n        [x1, y1],\r\n      ]);\r\n\r\n    // Esure that the coordinates are in the limits oh the BVH\r\n    x1 = Math.min(x1, BVH.width - 1);\r\n    y1 = Math.min(y1, BVH.height - 1);\r\n    x0 = Math.max(x0, 0);\r\n    y0 = Math.max(y0, 0);\r\n\r\n    let initI = Math.floor(x0 / BVH.xinc);\r\n    let finI = Math.floor(x1 / BVH.xinc);\r\n    let initJ = Math.floor(y0 / BVH.yinc);\r\n    let finJ = Math.floor(y1 / BVH.yinc);\r\n    return [[initI, finI], [initJ, finJ]];\r\n  }\r\n\r\n  //\r\n  function applyOffsets(x0, y0, x1, y1) {\r\n    return [x0 - BVH.offsetX, y0 - BVH.offsetY, x1 - BVH.offsetX, y1 - BVH.offsetY];\r\n  }\r\n\r\n  // Returns all the polylines that satisfy the function \"testFunc\" for a complete polyline. The function testFunct must be as follows\r\n  // TestFunc( Entity, x0, x1,y0,y1). Where entity is a polyline and return true, false or undefined if the result of the cuerrent entity dosent matter\r\n  function testsEntitiesAll(x0, y0, x1, y1, testFunc) {\r\n    [x0, y0, x1, y1] = applyOffsets(x0, y0, x1, y1);\r\n    let [[initI, finI], [initJ, finJ]] = getCollidingCells(x0, y0, x1, y1);\r\n\r\n    let contains = new Set();\r\n    let notContains = new Set();\r\n\r\n\r\n    for (let i = initI; i <= finI; ++i)\r\n      for (let j = initJ; j <= finJ; ++j)\r\n        for (const entities of BVH.BVH[i][j].data)\r\n          if (!notContains.has(entities[0])){\r\n            for (const entity of entities[1]) {\r\n              let intersect = testFunc(entity, x0, y0, x1, y1);\r\n              if (intersect !== undefined) {\r\n                if (intersect) {\r\n                  contains.add(entities[0]);\r\n                } else {\r\n                  notContains.add(entities[0]);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n    notContains.forEach(d => contains.delete(d));\r\n\r\n    return contains;\r\n\r\n  }\r\n\r\n  // Returns all the polylines that satisfy the function \"testFunc\" for any piece of polyline. The function testFunct must be as follows\r\n  // TestFunc( Entity, x0, x1,y0,y1). Where entity is a polyline.\r\n  function testsEntitiesAny(x0, y0, x1, y1, testFunc) {\r\n    [x0, y0, x1, y1] = applyOffsets(x0, y0, x1, y1);\r\n    let [[initI, finI], [initJ, finJ]] = getCollidingCells(x0, y0, x1, y1);\r\n\r\n    let intersections = new Set();\r\n\r\n    for (let i = initI; i <= finI; ++i)\r\n      for (let j = initJ; j <= finJ; ++j)\r\n        for (const entities of BVH.BVH[i][j].data)\r\n          if (!intersections.has(entities[0]))\r\n            for (const entity of entities[1]) {\r\n              let intersect = testFunc(entity, x0, y0, x1, y1);\r\n              if (intersect) {\r\n                intersections.add(entities[0]);\r\n                break;\r\n              }\r\n            }\r\n\r\n    return intersections;\r\n  }\r\n\r\n  me.contains = function(x0, y0, x1, y1) {\r\n    return testsEntitiesAll(x0, y0, x1, y1, containIntersection);\r\n  };\r\n\r\n\r\n  me.intersect = function(x0, y0, x1, y1) {\r\n    return testsEntitiesAny(x0, y0, x1, y1, lineIntersection);\r\n\r\n  };\r\n\r\n  return me;\r\n}\r\n\r\nexport default BVH;","function renderHtml(string) {\n  const template = document.createElement(\"template\");\n  template.innerHTML = string;\n  return document.importNode(template.content, true);\n}\n\nfunction renderSvg(string) {\n  const g = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  g.innerHTML = string;\n  return g;\n}\n\nexport const html = Object.assign(hypertext(renderHtml, fragment => {\n  if (fragment.firstChild === null) return null;\n  if (fragment.firstChild === fragment.lastChild) return fragment.removeChild(fragment.firstChild);\n  const span = document.createElement(\"span\");\n  span.appendChild(fragment);\n  return span;\n}), {fragment: hypertext(renderHtml, fragment => fragment)});\n\nexport const svg = Object.assign(hypertext(renderSvg, g => {\n  if (g.firstChild === null) return null;\n  if (g.firstChild === g.lastChild) return g.removeChild(g.firstChild);\n  return g;\n}), {fragment: hypertext(renderSvg, g => {\n  const fragment = document.createDocumentFragment();\n  while (g.firstChild) fragment.appendChild(g.firstChild);\n  return fragment;\n})});\n\nconst\nCODE_TAB = 9,\nCODE_LF = 10,\nCODE_FF = 12,\nCODE_CR = 13,\nCODE_SPACE = 32,\nCODE_UPPER_A = 65,\nCODE_UPPER_Z = 90,\nCODE_LOWER_A = 97,\nCODE_LOWER_Z = 122,\nCODE_LT = 60,\nCODE_GT = 62,\nCODE_SLASH = 47,\nCODE_DASH = 45,\nCODE_BANG = 33,\nCODE_EQ = 61,\nCODE_DQUOTE = 34,\nCODE_SQUOTE = 39,\nCODE_QUESTION = 63,\nSTATE_DATA = 1,\nSTATE_TAG_OPEN = 2,\nSTATE_END_TAG_OPEN = 3,\nSTATE_TAG_NAME = 4,\nSTATE_BOGUS_COMMENT = 5,\nSTATE_BEFORE_ATTRIBUTE_NAME = 6,\nSTATE_AFTER_ATTRIBUTE_NAME = 7,\nSTATE_ATTRIBUTE_NAME = 8,\nSTATE_BEFORE_ATTRIBUTE_VALUE = 9,\nSTATE_ATTRIBUTE_VALUE_DOUBLE_QUOTED = 10,\nSTATE_ATTRIBUTE_VALUE_SINGLE_QUOTED = 11,\nSTATE_ATTRIBUTE_VALUE_UNQUOTED = 12,\nSTATE_AFTER_ATTRIBUTE_VALUE_QUOTED = 13,\nSTATE_SELF_CLOSING_START_TAG = 14,\nSTATE_COMMENT_START = 15,\nSTATE_COMMENT_START_DASH = 16,\nSTATE_COMMENT = 17,\nSTATE_COMMENT_LESS_THAN_SIGN = 18,\nSTATE_COMMENT_LESS_THAN_SIGN_BANG = 19,\nSTATE_COMMENT_LESS_THAN_SIGN_BANG_DASH = 20,\nSTATE_COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH = 21,\nSTATE_COMMENT_END_DASH = 22,\nSTATE_COMMENT_END = 23,\nSTATE_COMMENT_END_BANG = 24,\nSTATE_MARKUP_DECLARATION_OPEN = 25,\nSTATE_RAWTEXT = 26,\nSTATE_RAWTEXT_LESS_THAN_SIGN = 27,\nSTATE_RAWTEXT_END_TAG_OPEN = 28,\nSTATE_RAWTEXT_END_TAG_NAME = 29,\nSHOW_COMMENT = 128,\nSHOW_ELEMENT = 1,\nTYPE_COMMENT = 8,\nTYPE_ELEMENT = 1,\nNS_SVG = \"http://www.w3.org/2000/svg\",\nNS_XLINK = \"http://www.w3.org/1999/xlink\",\nNS_XML = \"http://www.w3.org/XML/1998/namespace\",\nNS_XMLNS = \"http://www.w3.org/2000/xmlns/\";\n\nconst svgAdjustAttributes = new Map([\n  \"attributeName\",\n  \"attributeType\",\n  \"baseFrequency\",\n  \"baseProfile\",\n  \"calcMode\",\n  \"clipPathUnits\",\n  \"diffuseConstant\",\n  \"edgeMode\",\n  \"filterUnits\",\n  \"glyphRef\",\n  \"gradientTransform\",\n  \"gradientUnits\",\n  \"kernelMatrix\",\n  \"kernelUnitLength\",\n  \"keyPoints\",\n  \"keySplines\",\n  \"keyTimes\",\n  \"lengthAdjust\",\n  \"limitingConeAngle\",\n  \"markerHeight\",\n  \"markerUnits\",\n  \"markerWidth\",\n  \"maskContentUnits\",\n  \"maskUnits\",\n  \"numOctaves\",\n  \"pathLength\",\n  \"patternContentUnits\",\n  \"patternTransform\",\n  \"patternUnits\",\n  \"pointsAtX\",\n  \"pointsAtY\",\n  \"pointsAtZ\",\n  \"preserveAlpha\",\n  \"preserveAspectRatio\",\n  \"primitiveUnits\",\n  \"refX\",\n  \"refY\",\n  \"repeatCount\",\n  \"repeatDur\",\n  \"requiredExtensions\",\n  \"requiredFeatures\",\n  \"specularConstant\",\n  \"specularExponent\",\n  \"spreadMethod\",\n  \"startOffset\",\n  \"stdDeviation\",\n  \"stitchTiles\",\n  \"surfaceScale\",\n  \"systemLanguage\",\n  \"tableValues\",\n  \"targetX\",\n  \"targetY\",\n  \"textLength\",\n  \"viewBox\",\n  \"viewTarget\",\n  \"xChannelSelector\",\n  \"yChannelSelector\",\n  \"zoomAndPan\"\n].map(name => [name.toLowerCase(), name]));\n\nconst svgForeignAttributes = new Map([\n  [\"xlink:actuate\", NS_XLINK],\n  [\"xlink:arcrole\", NS_XLINK],\n  [\"xlink:href\", NS_XLINK],\n  [\"xlink:role\", NS_XLINK],\n  [\"xlink:show\", NS_XLINK],\n  [\"xlink:title\", NS_XLINK],\n  [\"xlink:type\", NS_XLINK],\n  [\"xml:lang\", NS_XML],\n  [\"xml:space\", NS_XML],\n  [\"xmlns\", NS_XMLNS],\n  [\"xmlns:xlink\", NS_XMLNS]\n]);\n\nfunction hypertext(render, postprocess) {\n  return function({raw: strings}) {\n    let state = STATE_DATA;\n    let string = \"\";\n    let tagNameStart; // either an open tag or an end tag\n    let tagName; // only open; beware nesting! used only for rawtext\n    let attributeNameStart;\n    let attributeNameEnd;\n    let nodeFilter = 0;\n\n    for (let j = 0, m = arguments.length; j < m; ++j) {\n      const input = strings[j];\n\n      if (j > 0) {\n        const value = arguments[j];\n        switch (state) {\n          case STATE_RAWTEXT: {\n            if (value != null) {\n              const text = `${value}`;\n              if (isEscapableRawText(tagName)) {\n                string += text.replace(/[<]/g, entity);\n              } else if (new RegExp(`</${tagName}[\\\\s>/]`, \"i\").test(string.slice(-tagName.length - 2) + text)) {\n                throw new Error(\"unsafe raw text\"); // appropriate end tag\n              } else {\n                string += text;\n              }\n            }\n            break;\n          }\n          case STATE_DATA: {\n            if (value == null) {\n              // ignore\n            } else if (value instanceof Node\n                || (typeof value !== \"string\" && value[Symbol.iterator])\n                || (/(?:^|>)$/.test(strings[j - 1]) && /^(?:<|$)/.test(input))) {\n              string += \"<!--::\" + j + \"-->\";\n              nodeFilter |= SHOW_COMMENT;\n            } else {\n              string += `${value}`.replace(/[<&]/g, entity);\n            }\n            break;\n          }\n          case STATE_BEFORE_ATTRIBUTE_VALUE: {\n            state = STATE_ATTRIBUTE_VALUE_UNQUOTED;\n            let text;\n            if (/^[\\s>]/.test(input)) {\n              if (value == null || value === false) {\n                string = string.slice(0, attributeNameStart - strings[j - 1].length);\n                break;\n              }\n              if (value === true || (text = `${value}`) === \"\") {\n                string += \"''\";\n                break;\n              }\n              const name = strings[j - 1].slice(attributeNameStart, attributeNameEnd);\n              if ((name === \"style\" && isObjectLiteral(value)) || typeof value === \"function\") {\n                string += \"::\" + j;\n                nodeFilter |= SHOW_ELEMENT;\n                break;\n              }\n            }\n            if (text === undefined) text = `${value}`;\n            if (text === \"\") throw new Error(\"unsafe unquoted empty string\");\n            string += text.replace(/^['\"]|[\\s>&]/g, entity);\n            break;\n          }\n          case STATE_ATTRIBUTE_VALUE_UNQUOTED: {\n            string += `${value}`.replace(/[\\s>&]/g, entity);\n            break;\n          }\n          case STATE_ATTRIBUTE_VALUE_SINGLE_QUOTED: {\n            string += `${value}`.replace(/['&]/g, entity);\n            break;\n          }\n          case STATE_ATTRIBUTE_VALUE_DOUBLE_QUOTED: {\n            string += `${value}`.replace(/[\"&]/g, entity);\n            break;\n          }\n          case STATE_BEFORE_ATTRIBUTE_NAME: {\n            if (isObjectLiteral(value)) {\n              string += \"::\" + j + \"=''\";\n              nodeFilter |= SHOW_ELEMENT;\n              break;\n            }\n            throw new Error(\"invalid binding\");\n          }\n          case STATE_COMMENT: break;\n          default: throw new Error(\"invalid binding\");\n        }\n      }\n\n      for (let i = 0, n = input.length; i < n; ++i) {\n        const code = input.charCodeAt(i);\n\n        switch (state) {\n          case STATE_DATA: {\n            if (code === CODE_LT) {\n              state = STATE_TAG_OPEN;\n            }\n            break;\n          }\n          case STATE_TAG_OPEN: {\n            if (code === CODE_BANG) {\n              state = STATE_MARKUP_DECLARATION_OPEN;\n            } else if (code === CODE_SLASH) {\n              state = STATE_END_TAG_OPEN;\n            } else if (isAsciiAlphaCode(code)) {\n              tagNameStart = i, tagName = undefined;\n              state = STATE_TAG_NAME, --i;\n            } else if (code === CODE_QUESTION) {\n              state = STATE_BOGUS_COMMENT, --i;\n            } else {\n              state = STATE_DATA, --i;\n            }\n            break;\n          }\n          case STATE_END_TAG_OPEN: {\n            if (isAsciiAlphaCode(code)) {\n              state = STATE_TAG_NAME, --i;\n            } else if (code === CODE_GT) {\n              state = STATE_DATA;\n            } else {\n              state = STATE_BOGUS_COMMENT, --i;\n            }\n            break;\n          }\n          case STATE_TAG_NAME: {\n            if (isSpaceCode(code)) {\n              state = STATE_BEFORE_ATTRIBUTE_NAME;\n              tagName = lower(input, tagNameStart, i);\n            } else if (code === CODE_SLASH) {\n              state = STATE_SELF_CLOSING_START_TAG;\n            } else if (code === CODE_GT) {\n              tagName = lower(input, tagNameStart, i);\n              state = isRawText(tagName) ? STATE_RAWTEXT : STATE_DATA;\n            }\n            break;\n          }\n          case STATE_BEFORE_ATTRIBUTE_NAME: {\n            if (isSpaceCode(code)) {\n              // continue\n            } else if (code === CODE_SLASH || code === CODE_GT) {\n              state = STATE_AFTER_ATTRIBUTE_NAME, --i;\n            } else if (code === CODE_EQ) {\n              state = STATE_ATTRIBUTE_NAME;\n              attributeNameStart = i + 1, attributeNameEnd = undefined;\n            } else {\n              state = STATE_ATTRIBUTE_NAME, --i;\n              attributeNameStart = i + 1, attributeNameEnd = undefined;\n            }\n            break;\n          }\n          case STATE_ATTRIBUTE_NAME: {\n            if (isSpaceCode(code) || code === CODE_SLASH || code === CODE_GT) {\n              state = STATE_AFTER_ATTRIBUTE_NAME, --i;\n              attributeNameEnd = i;\n            } else if (code === CODE_EQ) {\n              state = STATE_BEFORE_ATTRIBUTE_VALUE;\n              attributeNameEnd = i;\n            }\n            break;\n          }\n          case STATE_AFTER_ATTRIBUTE_NAME: {\n            if (isSpaceCode(code)) {\n              // ignore\n            } else if (code === CODE_SLASH) {\n              state = STATE_SELF_CLOSING_START_TAG;\n            } else if (code === CODE_EQ) {\n              state = STATE_BEFORE_ATTRIBUTE_VALUE;\n            } else if (code === CODE_GT) {\n              state = isRawText(tagName) ? STATE_RAWTEXT : STATE_DATA;\n            } else {\n              state = STATE_ATTRIBUTE_NAME, --i;\n              attributeNameStart = i + 1, attributeNameEnd = undefined;\n            }\n            break;\n          }\n          case STATE_BEFORE_ATTRIBUTE_VALUE: {\n            if (isSpaceCode(code)) {\n              // continue\n            } else if (code === CODE_DQUOTE) {\n              state = STATE_ATTRIBUTE_VALUE_DOUBLE_QUOTED;\n            } else if (code === CODE_SQUOTE) {\n              state = STATE_ATTRIBUTE_VALUE_SINGLE_QUOTED;\n            } else if (code === CODE_GT) {\n              state = isRawText(tagName) ? STATE_RAWTEXT : STATE_DATA;\n            } else {\n              state = STATE_ATTRIBUTE_VALUE_UNQUOTED, --i;\n            }\n            break;\n          }\n          case STATE_ATTRIBUTE_VALUE_DOUBLE_QUOTED: {\n            if (code === CODE_DQUOTE) {\n              state = STATE_AFTER_ATTRIBUTE_VALUE_QUOTED;\n            }\n            break;\n          }\n          case STATE_ATTRIBUTE_VALUE_SINGLE_QUOTED: {\n            if (code === CODE_SQUOTE) {\n              state = STATE_AFTER_ATTRIBUTE_VALUE_QUOTED;\n            }\n            break;\n          }\n          case STATE_ATTRIBUTE_VALUE_UNQUOTED: {\n            if (isSpaceCode(code)) {\n              state = STATE_BEFORE_ATTRIBUTE_NAME;\n            } else if (code === CODE_GT) {\n              state = isRawText(tagName) ? STATE_RAWTEXT : STATE_DATA;\n            }\n            break;\n          }\n          case STATE_AFTER_ATTRIBUTE_VALUE_QUOTED: {\n            if (isSpaceCode(code)) {\n              state = STATE_BEFORE_ATTRIBUTE_NAME;\n            } else if (code === CODE_SLASH) {\n              state = STATE_SELF_CLOSING_START_TAG;\n            } else if (code === CODE_GT) {\n              state = isRawText(tagName) ? STATE_RAWTEXT : STATE_DATA;\n            } else {\n              state = STATE_BEFORE_ATTRIBUTE_NAME, --i;\n            }\n            break;\n          }\n          case STATE_SELF_CLOSING_START_TAG: {\n            if (code === CODE_GT) {\n              state = STATE_DATA;\n            } else {\n              state = STATE_BEFORE_ATTRIBUTE_NAME, --i;\n            }\n            break;\n          }\n          case STATE_BOGUS_COMMENT: {\n            if (code === CODE_GT) {\n              state = STATE_DATA;\n            }\n            break;\n          }\n          case STATE_COMMENT_START: {\n            if (code === CODE_DASH) {\n              state = STATE_COMMENT_START_DASH;\n            } else if (code === CODE_GT) {\n              state = STATE_DATA;\n            } else {\n              state = STATE_COMMENT, --i;\n            }\n            break;\n          }\n          case STATE_COMMENT_START_DASH: {\n            if (code === CODE_DASH) {\n              state = STATE_COMMENT_END;\n            } else if (code === CODE_GT) {\n              state = STATE_DATA;\n            } else {\n              state = STATE_COMMENT, --i;\n            }\n            break;\n          }\n          case STATE_COMMENT: {\n            if (code === CODE_LT) {\n              state = STATE_COMMENT_LESS_THAN_SIGN;\n            } else if (code === CODE_DASH) {\n              state = STATE_COMMENT_END_DASH;\n            }\n            break;\n          }\n          case STATE_COMMENT_LESS_THAN_SIGN: {\n            if (code === CODE_BANG) {\n              state = STATE_COMMENT_LESS_THAN_SIGN_BANG;\n            } else if (code !== CODE_LT) {\n              state = STATE_COMMENT, --i;\n            }\n            break;\n          }\n          case STATE_COMMENT_LESS_THAN_SIGN_BANG: {\n            if (code === CODE_DASH) {\n              state = STATE_COMMENT_LESS_THAN_SIGN_BANG_DASH;\n            } else {\n              state = STATE_COMMENT, --i;\n            }\n            break;\n          }\n          case STATE_COMMENT_LESS_THAN_SIGN_BANG_DASH: {\n            if (code === CODE_DASH) {\n              state = STATE_COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH;\n            } else {\n              state = STATE_COMMENT_END, --i;\n            }\n            break;\n          }\n          case STATE_COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH: {\n            state = STATE_COMMENT_END, --i;\n            break;\n          }\n          case STATE_COMMENT_END_DASH: {\n            if (code === CODE_DASH) {\n              state = STATE_COMMENT_END;\n            } else {\n              state = STATE_COMMENT, --i;\n            }\n            break;\n          }\n          case STATE_COMMENT_END: {\n            if (code === CODE_GT) {\n              state = STATE_DATA;\n            } else if (code === CODE_BANG) {\n              state = STATE_COMMENT_END_BANG;\n            } else if (code !== CODE_DASH) {\n              state = STATE_COMMENT, --i;\n            }\n            break;\n          }\n          case STATE_COMMENT_END_BANG: {\n            if (code === CODE_DASH) {\n              state = STATE_COMMENT_END_DASH;\n            } else if (code === CODE_GT) {\n              state = STATE_DATA;\n            } else {\n              state = STATE_COMMENT, --i;\n            }\n            break;\n          }\n          case STATE_MARKUP_DECLARATION_OPEN: {\n            if (code === CODE_DASH && input.charCodeAt(i + 1) === CODE_DASH) {\n              state = STATE_COMMENT_START, ++i;\n            } else { // Note: CDATA and DOCTYPE unsupported!\n              state = STATE_BOGUS_COMMENT, --i;\n            }\n            break;\n          }\n          case STATE_RAWTEXT: {\n            if (code === CODE_LT) {\n              state = STATE_RAWTEXT_LESS_THAN_SIGN;\n            }\n            break;\n          }\n          case STATE_RAWTEXT_LESS_THAN_SIGN: {\n            if (code === CODE_SLASH) {\n              state = STATE_RAWTEXT_END_TAG_OPEN;\n            } else {\n              state = STATE_RAWTEXT, --i;\n            }\n            break;\n          }\n          case STATE_RAWTEXT_END_TAG_OPEN: {\n            if (isAsciiAlphaCode(code)) {\n              tagNameStart = i;\n              state = STATE_RAWTEXT_END_TAG_NAME, --i;\n            } else {\n              state = STATE_RAWTEXT, --i;\n            }\n            break;\n          }\n          case STATE_RAWTEXT_END_TAG_NAME: {\n            if (isSpaceCode(code) && tagName === lower(input, tagNameStart, i)) {\n              state = STATE_BEFORE_ATTRIBUTE_NAME;\n            } else if (code === CODE_SLASH && tagName === lower(input, tagNameStart, i)) {\n              state = STATE_SELF_CLOSING_START_TAG;\n            } else if (code === CODE_GT && tagName === lower(input, tagNameStart, i)) {\n              state = STATE_DATA;\n            } else if (!isAsciiAlphaCode(code)) {\n              state = STATE_RAWTEXT, --i;\n            }\n            break;\n          }\n          default: {\n            state = undefined;\n            break;\n          }\n        }\n      }\n\n      string += input;\n    }\n\n    const root = render(string);\n\n    const walker = document.createTreeWalker(root, nodeFilter, null, false);\n    const removeNodes = [];\n    while (walker.nextNode()) {\n      const node = walker.currentNode;\n      switch (node.nodeType) {\n        case TYPE_ELEMENT: {\n          const attributes = node.attributes;\n          for (let i = 0, n = attributes.length; i < n; ++i) {\n            const {name, value: currentValue} = attributes[i];\n            if (/^::/.test(name)) {\n              const value = arguments[+name.slice(2)];\n              removeAttribute(node, name), --i, --n;\n              for (const key in value) {\n                const subvalue = value[key];\n                if (subvalue == null || subvalue === false) {\n                  // ignore\n                } else if (typeof subvalue === \"function\") {\n                  node[key] = subvalue;\n                } else if (key === \"style\" && isObjectLiteral(subvalue)) {\n                  setStyles(node[key], subvalue);\n                } else {\n                  setAttribute(node, key, subvalue === true ? \"\" : subvalue);\n                }\n              }\n            } else if (/^::/.test(currentValue)) {\n              const value = arguments[+currentValue.slice(2)];\n              removeAttribute(node, name), --i, --n;\n              if (typeof value === \"function\") {\n                node[name] = value;\n              } else { // style\n                setStyles(node[name], value);\n              }\n            }\n          }\n          break;\n        }\n        case TYPE_COMMENT: {\n          if (/^::/.test(node.data)) {\n            const parent = node.parentNode;\n            const value = arguments[+node.data.slice(2)];\n            if (value instanceof Node) {\n              parent.insertBefore(value, node);\n            } else if (typeof value !== \"string\" && value[Symbol.iterator]) {\n              if (value instanceof NodeList || value instanceof HTMLCollection) {\n                for (let i = value.length - 1, r = node; i >= 0; --i) {\n                  r = parent.insertBefore(value[i], r);\n                }\n              } else {\n                for (const subvalue of value) {\n                  if (subvalue == null) continue;\n                  parent.insertBefore(subvalue instanceof Node ? subvalue : document.createTextNode(subvalue), node);\n                }\n              }\n            } else {\n              parent.insertBefore(document.createTextNode(value), node);\n            }\n            removeNodes.push(node);\n          }\n          break;\n        }\n      }\n    }\n\n    for (const node of removeNodes) {\n      node.parentNode.removeChild(node);\n    }\n\n    return postprocess(root);\n  };\n}\n\nfunction entity(character) {\n  return `&#${character.charCodeAt(0).toString()};`;\n}\n\nfunction isAsciiAlphaCode(code) {\n  return (CODE_UPPER_A <= code && code <= CODE_UPPER_Z)\n      || (CODE_LOWER_A <= code && code <= CODE_LOWER_Z);\n}\n\nfunction isSpaceCode(code) {\n  return code === CODE_TAB\n      || code === CODE_LF\n      || code === CODE_FF\n      || code === CODE_SPACE\n      || code === CODE_CR; // normalize newlines\n}\n\nfunction isObjectLiteral(value) {\n  return value && value.toString === Object.prototype.toString;\n}\n\nfunction isRawText(tagName) {\n  return tagName === \"script\" || tagName === \"style\" || isEscapableRawText(tagName);\n}\n\nfunction isEscapableRawText(tagName) {\n  return tagName === \"textarea\" || tagName === \"title\";\n}\n\nfunction lower(input, start, end) {\n  return input.slice(start, end).toLowerCase();\n}\n\nfunction setAttribute(node, name, value) {\n  if (node.namespaceURI === NS_SVG) {\n    name = name.toLowerCase();\n    name = svgAdjustAttributes.get(name) || name;\n    if (svgForeignAttributes.has(name)) {\n      node.setAttributeNS(svgForeignAttributes.get(name), name, value);\n      return;\n    }\n  }\n  node.setAttribute(name, value);\n}\n\nfunction removeAttribute(node, name) {\n  if (node.namespaceURI === NS_SVG) {\n    name = name.toLowerCase();\n    name = svgAdjustAttributes.get(name) || name;\n    if (svgForeignAttributes.has(name)) {\n      node.removeAttributeNS(svgForeignAttributes.get(name), name);\n      return;\n    }\n  }\n  node.removeAttribute(name);\n}\n\n// We can’t use Object.assign because custom properties…\nfunction setStyles(style, values) {\n  for (const name in values) {\n    const value = values[name];\n    if (name.startsWith(\"--\")) style.setProperty(name, value);\n    else style[name] = value;\n  }\n}\n","import * as htl from \"htl\";\r\n\r\nfunction BrushTooltipEditable({\r\n  fmtX,\r\n  fmtY,\r\n  target,\r\n  margin = { top: 0, left: 0 },\r\n  callback = () => {},\r\n}) {\r\n  const x0E = htl.html`<input class=\"x0\" contenteditable=\"true\"></input>`;\r\n  const y0E = htl.html`<input class=\"y0\" contenteditable=\"true\"></input>`;\r\n  const x1E = htl.html`<input class=\"x1\" contenteditable=\"true\"></input>`;\r\n  const y1E = htl.html`<input class=\"y1\" contenteditable=\"true\"></input>`;\r\n\r\n  // https://stackoverflow.com/questions/3392493/adjust-width-of-input-field-to-its-input\r\n  const adjustInputWidth = (input) => {\r\n    input.addEventListener(\"input\", resizeInput); // bind the \"resizeInput\" callback on \"input\" event\r\n    resizeInput.call(input); // immediately call the function\r\n\r\n    function resizeInput() {\r\n      this.style.width = this.value.length + 1 + \"ch\";\r\n    }\r\n  };\r\n\r\n  const resizeInputs = () => [x0E, y0E, x1E, y1E].map(adjustInputWidth);\r\n\r\n  const btnChange0E = htl.html`<button>✅</button>`;\r\n  const btnChange1E = htl.html`<button>✅</button>`;\r\n\r\n  const fromE = htl.html`<div style=\"position: absolute; top:0; left:0;\">\r\n    <div style=\"display:flex; position: absolute; bottom: 0px; right: 0px;\">\r\n      ${x0E}<strong> x </strong>${y0E} ${btnChange0E}\r\n    </div>\r\n  </div>`;\r\n  const toE = htl.html`<div style=\"position: absolute; display:flex;\">${x1E}<strong> x </strong>${y1E} ${btnChange1E}</div>`;\r\n\r\n  const brushTooltip = htl.html`<div class=\"__ts_tooltip\" style=\"display: none; z-index:2; position: absolute; top: ${margin.top}px; left: ${margin.left}px;\">\r\n    <style>\r\n    div.__ts_tooltip { \r\n      font-family: sans-serif; font-size: 10pt; \r\n    }\r\n    div.__ts_tooltip > div > div * { \r\n      margin-right: 1px;\r\n    }\r\n    div.__ts_tooltip div > button {\r\n      padding: 0px;\r\n      display: none;\r\n    }\r\n    div.__ts_tooltip div:hover > button {\r\n      padding: 0px;\r\n      display: block;\r\n    }\r\n    div.__ts_tooltip input {\r\n      background-color:rgba(255, 255, 255, 0);    \r\n      border: none;\r\n      outline: none;\r\n    }\r\n    div.__ts_tooltip input:focus {\r\n        border: solid #aaa;\r\n    }\r\n\r\n\r\n    </style>\r\n    <div>${fromE}</div>\r\n    <div>${toE}</div>\r\n\r\n  </div>`;\r\n\r\n  // x0E.oninput = (evt) => evt.preventDefault();\r\n  // x1E.oninput = (evt) => evt.preventDefault();\r\n  // y0E.oninput = (evt) => evt.preventDefault();\r\n  // y1E.oninput = (evt) => evt.preventDefault();\r\n\r\n  brushTooltip.__update = ({ selection, selectionPixels }) => {\r\n    brushTooltip.style.display = \"block\";\r\n    x0E.value = fmtX(selection[0][0]);\r\n    x1E.value = fmtX(selection[1][0]);\r\n    y0E.value = fmtY(selection[0][1]);\r\n    y1E.value = fmtY(selection[1][1]);\r\n\r\n    resizeInputs();\r\n\r\n    fromE.style.top = selectionPixels[0][1] + \"px\";\r\n    fromE.style.left = selectionPixels[0][0] + \"px\";\r\n    toE.style.top = selectionPixels[1][1] + \"px\";\r\n    toE.style.left = selectionPixels[1][0] + \"px\";\r\n  };\r\n\r\n  brushTooltip.__hide = () => (brushTooltip.style.display = \"none\");\r\n\r\n  // brushTooltip.oninput = (evt) => evt.preventDefault();\r\n\r\n  function triggerUpdate() {\r\n    brushTooltip.value = [\r\n      [x0E.value, y0E.value],\r\n      [x1E.value, y1E.value],\r\n    ];\r\n    brushTooltip.dispatchEvent(new Event(\"input\", { bubbles: true }));\r\n\r\n    callback(brushTooltip.value);\r\n  }\r\n\r\n  btnChange0E.addEventListener(\"click\", triggerUpdate);\r\n  btnChange1E.addEventListener(\"click\", triggerUpdate);\r\n\r\n  let tooltipNode = target.getElementsByClassName(\"__ts_tooltip\");\r\n  if (tooltipNode.length > 0) target.removeChild(tooltipNode[0]);\r\n  target.appendChild(brushTooltip);\r\n\r\n  //triggerUpdate();\r\n  resizeInputs();\r\n\r\n  return brushTooltip;\r\n}\r\n\r\nexport default BrushTooltipEditable;\r\n","import * as htl from \"htl\";\r\nimport { BrushAggregation, BrushModes, log } from \"./utils.js\";\r\n\r\nfunction BrushContextMenu({ target, callback }) {\r\n  const intersectE = htl.html`<input type=\"radio\" name=\"mode\" id=\"__ts_c_intersect\" value=\"intersect\">`;\r\n  const containsE = htl.html`<input type=\"radio\" name=\"mode\" id=\"__ts_c_contains\" value=\"contains\">`;\r\n  const notE = htl.html`<input type=\"checkbox\"  id=\"__ts_c_not\">`;\r\n  const andE = htl.html`<input type=\"radio\" name=\"aggregation\" id=\"__ts_c_and\" value=\"and\">`;\r\n  const orE = htl.html`<input type=\"radio\" name=\"aggregation\" id=\"__ts_c_or\" value=\"or\">`;\r\n  const closeBtn = htl.html`<button style=\"position: absolute; right: 0; top: 0; padding: 0; margin: 0; border: none; background: none; cursor: pointer; font-size: 0.8rem; color: #444; line-height: 1; padding: 2px 2px;\">&times;</button>`;\r\n\r\n  intersectE.onchange = onChange;\r\n  containsE.onchange = onChange;\r\n  andE.onchange = onChange;\r\n  orE.onchange = onChange;\r\n  notE.onchange = onChange;\r\n\r\n  let _brush;\r\n\r\n  let contextMenu = htl.html`<div class=\"__ts_contextMenu\" style=\"display: none; z-index: 2; position: absolute\" >\r\n        ${closeBtn}\r\n      \r\n        <div class=\"__ts_option_label\"><strong>Mode</strong></div>\r\n        <div class=\"__ts_option_values\">\r\n          <div>\r\n            ${intersectE}\r\n            <label for=\"__ts_c_intersect\" title=\"Search for timelines that touch any part of the timebox\">Intersect</label>\r\n          </div>\r\n          <div>\r\n            ${containsE}\r\n            <label for=\"__ts_c_contains\" title=\"Search for timelines that are fully contained in the timebox\">Contains</label>\r\n          </div>\r\n          <div>\r\n            ${notE}\r\n            <label for=\"__ts_c_not\" title=\" \">Not</label>\r\n          </div>\r\n        </div>\r\n      \r\n\r\n      \r\n        <div class=\"__ts_option_label\"><strong>Aggregation</strong></div>\r\n        <div class=\"__ts_option_values\">\r\n          <div>\r\n            ${andE}\r\n            <label for=\"__ts_c_and\">And</label>\r\n          </div>\r\n          <div>\r\n            ${orE}\r\n            <label for=\"__ts_c_or\">Or</label>\r\n          </div>\r\n        </div>\r\n      \r\n      \r\n\r\n      <style> \r\n        .__ts_contextMenu { \r\n            border-radius: 3px;\r\n            padding: 4px 14px 4px 4px;\r\n            position: absolute; \r\n            width: max-content;\r\n            background: #f6f6f6;\r\n            opacity: 0.9;\r\n            border: 1px solid #ccc; \r\n            font-family: sans-serif;\r\n            font-size: 0.8rem;\r\n            grid-template-columns: 1fr auto;\r\n            grid-row-gap: 7px;\r\n            box-shadow: 2px 2px 1px 0px #888888;\r\n        }         \r\n\r\n        .__ts_contextMenu  .__ts_option_values:hover { \r\n            background: #eee; \r\n        } \r\n\r\n        .__ts_contextMenu input[type=\"radio\"] {\r\n          margin-top: -1px;\r\n          vertical-align: middle;\r\n        }\r\n      </style> \r\n    </div>`;\r\n\r\n  target.appendChild(contextMenu);\r\n\r\n  // To keep track of the hiding timeout\r\n  let toHide = null;\r\n  // If the mouse leaves the context menu, hide it after 1s\r\n  contextMenu.onmouseleave = () =>\r\n    (toHide = setTimeout(() => {\r\n      contextMenu.__hide();\r\n      toHide = null;\r\n    }, 1000));\r\n  // But if the mouse re-enters the context menu, cancel the hiding\r\n  contextMenu.onmouseenter = () => {\r\n    toHide && clearTimeout(toHide);\r\n    toHide = null;\r\n  };\r\n  closeBtn.onclick = () => contextMenu.__hide();\r\n\r\n  function onChange() {\r\n    let brushMode = intersectE.checked\r\n      ? BrushModes.Intersect\r\n      : BrushModes.Contains;\r\n    let brushAggregation = andE.checked\r\n      ? BrushAggregation.And\r\n      : BrushAggregation.Or;\r\n    let brushNot = notE.checked;\r\n    callback(brushMode, brushAggregation, brushNot, _brush);\r\n  }\r\n\r\n  contextMenu.__hide = () => (contextMenu.style.display = \"none\");\r\n  contextMenu.__show = (mode, aggregation,not, pxX, pxY, brush) => {\r\n    _brush = brush;\r\n    switch (mode) {\r\n      case BrushModes.Intersect:\r\n        intersectE.checked = true;\r\n        break;\r\n      case BrushModes.Contains:\r\n        containsE.checked = true;\r\n        break;\r\n      default:\r\n        intersectE.checked = true;\r\n        log(\r\n          \"🚫 ERROR The method elected to compute the selection are not support\"\r\n        );\r\n    }\r\n\r\n    notE.checked = not;\r\n\r\n    switch (aggregation) {\r\n      case BrushAggregation.And:\r\n        andE.checked = true;\r\n        break;\r\n      case BrushAggregation.Or:\r\n        orE.checked = true;\r\n        break;\r\n      default:\r\n        andE.checked = true;\r\n        log(\"🚫 ERROR The aggregation method elected are not support\");\r\n    }\r\n\r\n    contextMenu.style.display = \"grid\";\r\n    contextMenu.style.left = pxX + \"px\";\r\n    contextMenu.style.top = pxY + \"px\";\r\n  };\r\n\r\n  return contextMenu;\r\n}\r\n\r\nexport default BrushContextMenu;\r\n","import * as d3 from \"d3\";\r\nimport { throttle } from \"throttle-debounce\";\r\nimport BVH from \"./BVH\";\r\nimport brushTooltipEditable from \"./BrushTooltipEditable.js\";\r\nimport BrushContextMenu from \"./BrushContextMenu.js\";\r\nimport { compareSets, darken, isInsideDomain } from \"./utils.js\";\r\n\r\nimport { BrushAggregation, BrushModes, log } from \"./utils\";\r\n\r\nfunction brushInteraction({\r\n  ts,\r\n  data,\r\n  element,\r\n  tooltipTarget,\r\n  contextMenuTarget,\r\n  xPartitions,\r\n  yPartitions,\r\n  x,\r\n  y,\r\n  scaleX,\r\n  scaleY,\r\n  fmtX,\r\n  fmtY,\r\n  updateTime,\r\n  brushShadow,\r\n  minBrushSize = 5, // Min size in pixels of brushes\r\n  tsLevel, // Store the level of the TS for brushColor. See how to change this TODO\r\n  selectionCallback = () => {}, // (dataSelected, dataNotSelected, hasSelection) => {} Called when selected elements change\r\n  groupsCallback = () => {}, // (groups) => {} Called when information of the groups changes (not the selection made by them)\r\n  changeSelectedCoordinatesCallback = () => {}, // (selection) => {} Called when the coordinates of the selected brush change.\r\n  selectedBrushCallback = () => {}, // (brush) => {} Called when the selected Brush changes.\r\n  statusCallback = () => {}, // (status) => {}\r\n}) {\r\n  let me = {},\r\n    brushSize,\r\n    brushesGroup,\r\n    brushCount = 0,\r\n    gBrushes,\r\n    tBrushed,\r\n    tUpdateSelection,\r\n    tShowTooltip,\r\n    tSelectionCall,\r\n    brushGroupSelected,\r\n    selectedBrush,\r\n    dataSelected,\r\n    dataNotSelected,\r\n    BVH_,\r\n    brushTooltip,\r\n    brushContextMenu,\r\n    brushWithTooltip;\r\n\r\n  if (!data) return;\r\n\r\n  gBrushes = d3.select(element);\r\n  gBrushes.node().innerHTML = \"\";\r\n\r\n  tBrushed = throttle(updateTime, brushed);\r\n  tUpdateSelection = throttle(updateTime, updateSelection);\r\n  tShowTooltip = throttle(50, showBrushTooltip);\r\n  tSelectionCall = throttle(50, updateSelectedCoordinates);\r\n\r\n  dataSelected = new Map();\r\n  dataNotSelected = [];\r\n  brushesGroup = new Map();\r\n  brushCount = 0;\r\n  brushSize = 0;\r\n  let BVHData = data.map((d) => {\r\n    let polyline = d[1].map((d) => [scaleX(x(d)), scaleY(y(d))]);\r\n    return [d[0], polyline];\r\n  });\r\n\r\n  BVH_ = BVH({\r\n    data: BVHData,\r\n    xPartitions,\r\n    yPartitions,\r\n  });\r\n\r\n  brushTooltip = brushTooltipEditable({\r\n    fmtX,\r\n    fmtY,\r\n    target: tooltipTarget,\r\n    margin: { top: ts.margin.top, left: ts.margin.left },\r\n    callback: onTooltipChange,\r\n  });\r\n\r\n  brushContextMenu = BrushContextMenu({\r\n    target: contextMenuTarget,\r\n    callback: onContextMenuChange,\r\n  });\r\n\r\n  function onTooltipChange([[x0, y0], [x1, y1]]) {\r\n    y0 = +y0;\r\n    y1 = +y1;\r\n    if (isNaN(+x0)) {\r\n      let timeParse = d3.timeParse(fmtX);\r\n      x0 = timeParse(x0);\r\n      x1 = timeParse(x1);\r\n    } else {\r\n      x0 = +x0;\r\n      x1 = +x1;\r\n    }\r\n    me.moveBrush(brushWithTooltip, [\r\n      [x0, y0],\r\n      [x1, y1],\r\n    ]);\r\n  }\r\n\r\n  function onContextMenuChange(mode, aggregation, not, brush) {\r\n    brush[1].mode = mode;\r\n    brush[1].aggregation = aggregation;\r\n    brush[1].negate = not;\r\n    updateBrush(brush);\r\n    brushFilter();\r\n  }\r\n\r\n  const onBrushStart = (e, brushObject) => {\r\n    log(\"💡  onBrushStart\", brushObject, arguments.length);\r\n    if (!brushObject || !brushObject.length) {\r\n      // TODO\r\n      log(\"🚫 ERRROR onBrushStart called with no or wrong brush\", brushObject);\r\n      return;\r\n    }\r\n\r\n    // if (!brushObject[1].selection) {\r\n    //   log(\"👁️ brushStart, selection is null, not doing anything \");\r\n    //   return;\r\n    // }\r\n    const [id, brush] = brushObject;\r\n\r\n    // call when the user starts interacting with a timeBox\r\n    // If the user is creating a new TimeBox, modify the group to which the timeBox belongs.\r\n    if (id === brushCount - 1) {\r\n      brushSize++;\r\n      changeBrushOfGroup([id, brush], brushGroupSelected);\r\n      brushesGroup.get(brushGroupSelected).isEnable = true;\r\n      selectedBrush = [id, brush];\r\n      selectedBrushCallback(selectedBrush);\r\n      drawBrushes();\r\n    }\r\n    if (ts.autoUpdate) {\r\n      tBrushed(e, [id, brush]);\r\n    }\r\n  };\r\n\r\n  function onBrushEnd({ selection, sourceEvent }, brush) {\r\n    if (sourceEvent === undefined) return;\r\n    if (selection) {\r\n      let [[x0, y0], [x1, y1]] = selection;\r\n      if (\r\n        Math.abs(x0 - x1) < minBrushSize &&\r\n        Math.abs(y0 - y1) < minBrushSize\r\n      ) {\r\n        // Remove brush smaller than 5px\r\n        removeBrush(brush);\r\n      } else if (!ts.autoUpdate) {\r\n        // update manually if not autoupdate with brushed event.\r\n        if (brush[1].isSelected) {\r\n          updateSelection();\r\n        } else {\r\n          brushed({ selection, sourceEvent }, brush);\r\n        }\r\n      }\r\n    } else {\r\n      removeBrush(brush);\r\n    }\r\n    if (brush[0] === brushCount - 1) newBrush(); // If the user has just created a new TimeBox, prepare the next one so that it can be created.\r\n\r\n    drawBrushes();\r\n  }\r\n\r\n  // Call newBrush with an initial Selection to create the brush on initial selection\r\n  function newBrush(\r\n    mode = BrushModes.Intersect,\r\n    aggregation = BrushAggregation.And,\r\n    brushGroup = brushGroupSelected,\r\n    brushinitialSelection = undefined\r\n  ) {\r\n    // Create the brush\r\n    let brush = d3.brush().on(\"start\", onBrushStart);\r\n\r\n    // Add the new brush to the group\r\n    brushesGroup\r\n      .get(brushGroup)\r\n      .brushes.set(\r\n        brushCount,\r\n        generateBrush(\r\n          brush,\r\n          mode,\r\n          aggregation,\r\n          brushGroup,\r\n          null,\r\n          null,\r\n          brushinitialSelection\r\n        )\r\n      );\r\n    let brushObject = [\r\n      brushCount,\r\n      brushesGroup.get(brushGroupSelected).brushes.get(brushCount),\r\n    ];\r\n    // Set events for Brush\r\n    brush.on(\"brush.move\", moveSelectedBrushes);\r\n    brush.on(\"brush.Selected\", tSelectionCall);\r\n    if (ts.autoUpdate) {\r\n      // Update brushSelection only if autoUpdate\r\n      brush.on(\"brush.brushed\", tBrushed);\r\n    }\r\n    if (ts.showBrushTooltip) {\r\n      brush.on(\"brush.show\", (event) => tShowTooltip(event, brushObject));\r\n    }\r\n    brush.on(\"end\", onBrushEnd);\r\n\r\n    brushCount++;\r\n  }\r\n\r\n  function getSelectionDomain(selection) {\r\n    return selection.map(([x, y]) => [scaleX.invert(x), scaleY.invert(y)]);\r\n  }\r\n\r\n  function getSelectionPixels(selectionDomain) {\r\n    return selectionDomain.map(([x, y]) => [scaleX(x), scaleY(y)]);\r\n  }\r\n\r\n  // Update brush intersections when moved\r\n  function brushed({ selection, sourceEvent }, brush) {\r\n    //log(\"brushed\", brush, arguments);\r\n    if (!brush[1]) {\r\n      // TODO\r\n      log(\"**🚫 ERROR brushed called without a brush[1]\", brush);\r\n      return;\r\n    }\r\n\r\n    // dont execute this method when move brushes programatically (sourceEvent === null) or when there is no selection\r\n    if (sourceEvent === undefined || !selection) return;\r\n    //log(\"brushed\", brush);\r\n    brush[1].selection = selection;\r\n    brush[1].selectionDomain = getSelectionDomain(selection); // Calculate the selection coordinates in data domain\r\n    if (updateBrush(brush)) {\r\n      //Update intersections with modified brush\r\n      brushFilter();\r\n    }\r\n  }\r\n\r\n  function brushFilter() {\r\n    dataNotSelected = [];\r\n    dataSelected = new Map();\r\n    brushesGroup.forEach((d, key) => dataSelected.set(key, []));\r\n\r\n    if (brushSize > 0) {\r\n      for (let d of data) {\r\n        let isSelected = false;\r\n        for (let [groupId, brushGroup] of brushesGroup.entries()) {\r\n          if (intersectGroup(d, brushGroup.brushes)) {\r\n            dataSelected.get(groupId).push(d);\r\n            isSelected = true;\r\n          }\r\n        }\r\n        if (!isSelected) {\r\n          dataNotSelected.push(d);\r\n        }\r\n      }\r\n    } else {\r\n      dataNotSelected = data;\r\n    }\r\n\r\n    selectionCallback(dataSelected, dataNotSelected, brushSize !== 0);\r\n  }\r\n\r\n  function removeBrush([id, brush]) {\r\n    brushSize--;\r\n    brushesGroup.get(brush.group).brushes.delete(id);\r\n\r\n    drawBrushes();\r\n    brushFilter();\r\n    updateStatus();\r\n    brushTooltip.__hide();\r\n  }\r\n\r\n  function updateStatus() {\r\n    // TODO\r\n    statusCallback();\r\n  }\r\n\r\n  function updateGroups() {\r\n    groupsCallback(brushesGroup);\r\n  }\r\n\r\n  function updateSelectedCoordinates({ selection }) {\r\n    let selectionDomain = getSelectionDomain(selection);\r\n    changeSelectedCoordinatesCallback(selectionDomain);\r\n  }\r\n\r\n  // Calculates whether a line intersects a complete brushGroup.\r\n  function intersectGroup(data, group) {\r\n    if (group.size === 0) return false;\r\n\r\n    // If the group only have a 1 uninitialized brush not have intersection\r\n    if (group.size === 1 && !group.values().next().value.intersections)\r\n      return false;\r\n\r\n    let intersect = true;\r\n    let anyAnd = false;\r\n    for (const brush of group.values())\r\n      if (brush.intersections) {\r\n        //initialize brush only\r\n        switch (brush.aggregation) {\r\n          case BrushAggregation.And:\r\n            intersect = intersect && brush.intersections.has(data[0]);\r\n            anyAnd = true;\r\n            break;\r\n          case BrushAggregation.Or:\r\n            if (brush.intersections.has(data[0])) return true;\r\n        }\r\n      }\r\n    return intersect && anyAnd;\r\n  }\r\n\r\n  // Update the intersection of all selected brushes\r\n  function updateSelection() {\r\n    let someUpdate = false;\r\n    for (const brushGroup of brushesGroup.values()) {\r\n      for (const brush of brushGroup.brushes) {\r\n        if (brush[1].isSelected) {\r\n          let update = updateBrush(brush); //avoid lazy evaluation\r\n          someUpdate = someUpdate || update;\r\n        }\r\n      }\r\n    }\r\n    if (someUpdate) {\r\n      brushFilter();\r\n    }\r\n  }\r\n\r\n  function moveBrush([brushId, brush], distX, distY) {\r\n    let [[x0, y0], [x1, y1]] = brush.selection;\r\n    x0 += distX;\r\n    x1 += distX;\r\n    y0 += distY;\r\n    y1 += distY;\r\n    gBrushes.selectAll(\"#brush-\" + brushId).call(brush.brush.move, [\r\n      [x0, y0],\r\n      [x1, y1],\r\n    ]);\r\n    brush.selection = [\r\n      [x0, y0],\r\n      [x1, y1],\r\n    ];\r\n    brush.selectionDomain = getSelectionDomain(brush.selection);\r\n  }\r\n\r\n  // Move all selected brushes the same amount of the triggerBrush\r\n  function moveSelectedBrushes({ selection, sourceEvent }, trigger) {\r\n    // dont execute this method when move brushes programatically\r\n    if (sourceEvent === undefined) return;\r\n    if (!Array.isArray(trigger) || trigger.length !== 2) {\r\n      log(\r\n        \"👁️ moveSelectedBrushes called without array trigger returning\",\r\n        trigger\r\n      );\r\n      return;\r\n    }\r\n\r\n    const [triggerId, triggerBrush] = trigger;\r\n    if (!selection || !triggerBrush.isSelected) return;\r\n\r\n    let [[x0, y0]] = selection;\r\n    let distX = x0 - triggerBrush.selection[0][0];\r\n    let distY = y0 - triggerBrush.selection[0][1];\r\n    triggerBrush.selection = selection;\r\n    triggerBrush.selectionDomain = getSelectionDomain(selection);\r\n    for (const brushGroup of brushesGroup.values()) {\r\n      for (const [brushId, brush] of brushGroup.brushes) {\r\n        if (brush.isSelected && !(triggerId === brushId)) {\r\n          moveBrush([brushId, brush], distX, distY, brushId);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (ts.autoUpdate) {\r\n      tUpdateSelection();\r\n    }\r\n  }\r\n\r\n  // Calculate the intersection of one brush with all the lines. Returns true if any changes have been made\r\n  function updateBrush([brushId, brush]) {\r\n    let [[x0, y0], [x1, y1]] = brush.selection;\r\n    let newIntersections = null;\r\n    // TODO Another form to do that is to assing the brush the function to calculate the intersection. It would make the code shorter, but I think less readable.\r\n    switch (brush.mode) {\r\n      case BrushModes.Intersect:\r\n        newIntersections = BVH_.intersect(x0, y0, x1, y1);\r\n        break;\r\n      case BrushModes.Contains:\r\n        newIntersections = BVH_.contains(x0, y0, x1, y1);\r\n        break;\r\n      default:\r\n        newIntersections = BVH_.intersect(x0, y0, x1, y1);\r\n        log(\r\n          \"🚫 ERROR The method elected to compute the selection are not support, using default intersection instead \"\r\n        );\r\n    }\r\n\r\n    if (brush.negate) {\r\n      let allKeys = new Set(data.map(d => d[0]));\r\n      for (const key of newIntersections) {\r\n        allKeys.delete(key);\r\n      }\r\n      newIntersections = allKeys;\r\n    }\r\n\r\n    // Draw the handles in contains brushes\r\n    updateBrushHandles();\r\n\r\n    let updated = !compareSets(newIntersections, brush.intersections);\r\n    brush.intersections = newIntersections;\r\n\r\n    return updated;\r\n  }\r\n\r\n  // Update the brush look and feel depending on the mode and aggregation\r\n  function updateBrushHandles() {\r\n    gBrushes.selectAll(\".brush\").each(function ([, brush]) {\r\n      // Color the handles different if the brush is contains\r\n      d3.select(this)\r\n        .selectAll(\".handle--w, .handle--e\")\r\n        .style(\r\n          \"fill\",\r\n          brush.mode === BrushModes.Contains\r\n            ? darken(computeColor(brush.group))\r\n            : \"none\"\r\n        )\r\n        .style(\"opacity\", 0.4);\r\n\r\n      // Color the handles different if the brush is negate\r\n      d3.select(this)\r\n          .selectAll(\".handle--n, .handle--s\")\r\n          .style(\"fill\", brush.negate ? \"red\" : \"none\")\r\n          .style(\"opacity\", 0.4);\r\n\r\n      // Brush tooltip help text\r\n      d3.select(this)\r\n        .selectAll(\"title\")\r\n        .data([0]) // hack to create the title only once used instead of .append(\"title\")\r\n        .join(\"title\")\r\n        .text(\r\n          `Mode: ${\r\n            brush.mode === BrushModes.Contains ? \"Contains\" : \"Intersect\"\r\n          }\\nAggregation: ${\r\n            brush.aggregation === BrushAggregation.And ? \"And\" : \"Or\"\r\n          }\\nRight click for options`\r\n        );\r\n    });\r\n  }\r\n\r\n  function selectBrush(brush) {\r\n    brush[1].isSelected = !brush[1].isSelected;\r\n    updateGroups();\r\n    selectedBrushCallback(brush);\r\n  }\r\n\r\n  function deselectAllBrushes() {\r\n    for (let brushGroup of brushesGroup.values()) {\r\n      for (let brush of brushGroup.brushes) {\r\n        brush[1].isSelected = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  function getUnusedIdBrushGroup() {\r\n    let keys = Array.from(brushesGroup.keys()).sort();\r\n    let lastKey = -1;\r\n\r\n    for (let key of keys) {\r\n      if (lastKey + 1 !== key) {\r\n        break;\r\n      }\r\n      lastKey++;\r\n    }\r\n\r\n    lastKey++;\r\n    return lastKey;\r\n  }\r\n\r\n  function brushShadowIfSelected(d) {\r\n    return selectedBrush && d[0] === selectedBrush[0] ? brushShadow : \"\";\r\n  }\r\n\r\n  function showBrushTooltip({ selection, sourceEvent }, brush) {\r\n    if (!selection || sourceEvent === undefined) return;\r\n\r\n    let selectionInverted = selection.map(([x, y]) => [\r\n      scaleX.invert(+x),\r\n      scaleY.invert(+y),\r\n    ]);\r\n\r\n    brushWithTooltip = brush;\r\n    brushTooltip.__update({\r\n      selection: selectionInverted,\r\n      selectionPixels: selection,\r\n    });\r\n  }\r\n\r\n  // Called by drawBrushes\r\n  function drawOneBrush(d) {\r\n    const brushValue = d[1];\r\n\r\n    d3.select(this)\r\n      .selectAll(\".selection\")\r\n      .style(\"outline\", \"-webkit-focus-ring-color solid 0px\")\r\n      .style(\"fill\", computeColor(brushValue.group))\r\n      .style(\r\n        \"stroke-width\",\r\n        brushValue.group === brushGroupSelected ? \"2px\" : \"0.5px\"\r\n      )\r\n      // .style(\"outline-style\", brushValue.isSelected ? \"dashed\" : \"solid\")\r\n      .style(\"stroke-dasharray\", brushValue.isSelected ? \"4\" : \"\")\r\n      .style(\"stroke\", darken(computeColor(brushValue.group)))\r\n      .style(\"outline-color\", darken(computeColor(brushValue.group)))\r\n      .style(\"fill\", computeColor(brushValue.group))\r\n      .attr(\"tabindex\", 0)\r\n      .on(\"mousedown\", (sourceEvent) => {\r\n        if (sourceEvent.button === 0) {\r\n          //Do that in left click\r\n          let selection = brushValue.selection;\r\n          updateSelectedCoordinates({ selection });\r\n          selectedBrush = selectedBrush && d[0] === selectedBrush[0] ? null : d;\r\n          selectedBrushCallback(selectedBrush);\r\n\r\n          // Show shadow on current brush\r\n          gBrushes\r\n            .selectAll(\".brush\")\r\n            .style(\"-webkit-filter\", brushShadowIfSelected)\r\n            .style(\"filter\", brushShadowIfSelected);\r\n\r\n          if (sourceEvent.shiftKey) {\r\n            selectBrush(d);\r\n          }\r\n        }\r\n      })\r\n      .on(\"contextmenu\", (sourceEvent) => {\r\n        sourceEvent.preventDefault();\r\n        let px = brushValue.selection[0][0];\r\n        let py = brushValue.selection[0][1];\r\n        brushContextMenu.__show(\r\n          brushValue.mode,\r\n          brushValue.aggregation,\r\n          brushValue.negate,\r\n          px,\r\n          py,\r\n          d\r\n        );\r\n      });\r\n\r\n    if (ts.showBrushTooltip) {\r\n      d3.select(this)\r\n        .selectAll(\":not(.overlay)\")\r\n        .on(\"mousemove\", (sourceEvent) => {\r\n          let selection = brushValue.selection;\r\n          showBrushTooltip({ selection, sourceEvent }, d);\r\n        });\r\n    }\r\n  }\r\n\r\n  function selectBrushGroup(id) {\r\n    if (brushGroupSelected === id) return;\r\n\r\n    let oldBrushGroupSelected = brushesGroup.get(brushGroupSelected);\r\n    oldBrushGroupSelected.isActive = false;\r\n    deselectAllBrushes();\r\n\r\n    brushesGroup.get();\r\n    brushGroupSelected = id;\r\n    brushesGroup.get(id).isActive = true;\r\n    brushesGroup.get(id).isEnable = true;\r\n    drawBrushes();\r\n  }\r\n\r\n  function computeColor(groupId) {\r\n    // Not do if(tsLevel) because if(0) is false.\r\n    if (tsLevel !== undefined) return ts.brushesColorScale[groupId](tsLevel);\r\n\r\n    if (ts.brushesColorScale instanceof Array)\r\n      return ts.brushesColorScale[groupId](tsLevel);\r\n\r\n    return ts.brushesColorScale(groupId);\r\n  }\r\n\r\n  // Change one brush to a new BrushGroup\r\n  function changeBrushOfGroup([brushId, brush], newBrushGroupId) {\r\n    brushesGroup.get(brush.group).brushes.delete(brushId);\r\n    brush.group = newBrushGroupId;\r\n    brushesGroup.get(newBrushGroupId).brushes.set(brushId, brush);\r\n  }\r\n\r\n  function drawBrushes() {\r\n    let brushes = [];\r\n    brushesGroup.forEach(\r\n      (d) => (brushes = brushes.concat(Array.from(d.brushes)))\r\n    );\r\n    brushes.sort((a, b) => d3.descending(a[0], b[0]));\r\n\r\n    const brushesSelection = gBrushes\r\n      .selectAll(\".brush\")\r\n      .data(brushes, (d) => d[0])\r\n      .join(\"g\")\r\n      .attr(\"class\", \"brush\")\r\n      .attr(\"id\", ([id]) => \"brush-\" + id)\r\n      .each(function ([, brush]) {\r\n        // Actually create the d3 brush\r\n        const sel = d3.select(this).call(brush.brush);\r\n\r\n        return sel;\r\n      })\r\n      .style(\"-webkit-filter\", brushShadowIfSelected)\r\n      .style(\"filter\", brushShadowIfSelected)\r\n      .style(\"display\", (d) =>\r\n        brushesGroup.get(d[1].group).isEnable ? \"\" : \"none\"\r\n      ) // Hide brushes when their group is not enabled\r\n      .style(\"pointer-events\", (d) =>\r\n        d[1].group === brushGroupSelected ? \"all\" : \"none\"\r\n      ) // disable interaction with not active brushes.\r\n      .each(drawOneBrush);\r\n\r\n    brushesSelection.each(function (d) {\r\n      d3.select(this)\r\n        .selectAll(\".overlay\")\r\n        .style(\"pointer-events\", () => {\r\n          return brushCount - 1 === d[0] ? \"all\" : \"none\";\r\n        });\r\n    });\r\n\r\n    brushesSelection.each(function ([id, brush]) {\r\n      // Are we creating a brush for a predefined filter?\r\n      if (brush.initialSelection) {\r\n        log(\"🎉 setting initial selection\", brush.initialSelection);\r\n\r\n        // Update brushColor\r\n        d3.select(this)\r\n          .selectAll(\".selection\")\r\n          .style(\"stroke\", darken(computeColor(brush.group)))\r\n          .style(\"outline-color\", darken(computeColor(brush.group)))\r\n          .style(\"fill\", computeColor(brush.group));\r\n\r\n        // // if so set the new brush programatically, and delete the initial selection\r\n        me.moveBrush([id, brush], brush.initialSelection);\r\n        // d3.select(this).call(\r\n        //   brush.brush.move,\r\n        //   // [[52, 254], [237, 320]]\r\n        //   // convert to pixels\r\n        //   brush.initialSelection.map(([px, py]) => [scaleX(px), scaleY(py)])\r\n        // );\r\n        brush.initialSelection = undefined;\r\n      }\r\n    });\r\n  }\r\n\r\n  me.updateBrushGroupName = function (id, name) {\r\n    brushesGroup.get(id).name = name;\r\n    updateGroups();\r\n    updateStatus();\r\n  };\r\n\r\n  me.addBrushGroup = function () {\r\n    // In case of a multivariate TS, it is not possible to add more groups than defined color families.\r\n    if (\r\n      tsLevel !== undefined &&\r\n      brushesGroup.size === ts.brushesColorScale.length\r\n    ) {\r\n      log(\r\n        \"Another group cannot be added because there is no defined color family. \"\r\n      );\r\n      return;\r\n    }\r\n    let newId = getUnusedIdBrushGroup();\r\n    let brushGroup = {\r\n      isEnable: true,\r\n      isActive: false,\r\n      name: \"Group \" + (newId + 1),\r\n      brushes: new Map(),\r\n    };\r\n\r\n    brushesGroup.set(newId, brushGroup);\r\n    dataSelected.set(newId, []);\r\n    selectBrushGroup(newId);\r\n\r\n    selectionCallback(dataSelected, dataNotSelected, brushSize !== 0);\r\n    updateStatus();\r\n    updateGroups();\r\n  };\r\n\r\n  me.changeBrushGroupState = function (id, newState) {\r\n    if (brushesGroup.get(id).isEnable === newState) return; //same state so no update needed\r\n\r\n    brushesGroup.get(id).isEnable = newState;\r\n\r\n    if (!newState) {\r\n      // Hide tooltip if it was in a brush of that group.\r\n      if (selectedBrush && selectedBrush[1].group === id) {\r\n        brushTooltip.__hide();\r\n      }\r\n    }\r\n\r\n    drawBrushes();\r\n    updateStatus();\r\n    updateGroups();\r\n  };\r\n\r\n  me.selectBrushGroup = function (id) {\r\n    selectBrushGroup(id);\r\n    updateStatus();\r\n    updateGroups();\r\n  };\r\n\r\n  me.getBrushesGroupSize = function () {\r\n    return brushesGroup.length;\r\n  };\r\n\r\n  me.removeBrushGroup = function (id) {\r\n    if (brushesGroup.length <= 1) return;\r\n\r\n    let itKeys = brushesGroup.keys();\r\n    let newId = itKeys.next().value;\r\n    newId = newId === id ? itKeys.next().value : newId;\r\n\r\n    let brushGroupToDelete = brushesGroup.get(id);\r\n\r\n    for (let [id, brush] of brushGroupToDelete.brushes.entries()) {\r\n      // delete all brushes of the group to be deleted, except the brush prepared to create a new timeBox\r\n      if (brush.selection !== null) {\r\n        removeBrush([id, brush]);\r\n      } else {\r\n        // Change the brush prepared to create a new timeBox to another group\r\n        brush.group = newId;\r\n        brushesGroup.get(newId).brushes.set(id, brush);\r\n        brushGroupToDelete.brushes.delete(id);\r\n      }\r\n    }\r\n\r\n    // Select new active group if needed\r\n    if (brushGroupSelected === id) {\r\n      brushesGroup.get(newId).isActive = true;\r\n      brushGroupSelected = newId;\r\n    }\r\n\r\n    brushesGroup.delete(id);\r\n\r\n    updateGroups();\r\n  };\r\n\r\n  me.getEnableGroups = function () {\r\n    let enable = new Set();\r\n    brushesGroup.forEach((d, id) => {\r\n      if (d.isEnable) {\r\n        enable.add(id);\r\n      }\r\n    });\r\n    return enable;\r\n  };\r\n\r\n  me.getBrushesGroup = function () {\r\n    //return brushesGroup;\r\n\r\n    // Return a copy of brushesGroups without the uninitialized brushes\r\n    let filterBrushesGroup = new Map();\r\n\r\n    // Deep copy\r\n    brushesGroup.forEach((g, gId) => {\r\n      let o = Object.assign({}, g);\r\n      o.brushes = new Map(g.brushes);\r\n      filterBrushesGroup.set(gId, o);\r\n    });\r\n\r\n    filterBrushesGroup.forEach((group) => {\r\n      group.brushes.forEach((brush, brushId) => {\r\n        if (brush.selection === null) group.brushes.delete(brushId);\r\n      });\r\n    });\r\n    return filterBrushesGroup;\r\n  };\r\n\r\n  me.getBrushGroupSelected = function () {\r\n    return brushGroupSelected;\r\n  };\r\n\r\n  me.removeSelectedBrush = function () {\r\n    if (selectedBrush) removeBrush(selectedBrush);\r\n  };\r\n\r\n  me.getSelectedBrush = function () {\r\n    return selectedBrush;\r\n  };\r\n\r\n  me.hasSelection = function () {\r\n    return brushSize !== 0;\r\n  };\r\n\r\n  me.deselectBrush = function () {\r\n    if (selectedBrush) {\r\n      selectedBrush = null;\r\n      drawBrushes();\r\n      selectedBrushCallback(selectedBrush);\r\n    }\r\n  };\r\n\r\n  me.changeSelectedBrushMode = function (brushMode) {\r\n    selectedBrush.mode = brushMode;\r\n    updateBrush(selectedBrush);\r\n  };\r\n\r\n  me.changeSelectedBrushAggregation = function (brushAggregation) {\r\n    selectedBrush.aggregation = brushAggregation;\r\n    brushFilter();\r\n  };\r\n\r\n  me.moveBrush = function (\r\n    [brushID, brushValue],\r\n    selection,\r\n    moveSelection = false\r\n  ) {\r\n    let [[x0, y0], [x1, y1]] = selection;\r\n    //Domain coordinates\r\n    let minX = scaleX.domain()[0];\r\n    let maxX = scaleX.domain()[1];\r\n    let minY = scaleY.domain()[0];\r\n    let maxY = scaleY.domain()[1];\r\n\r\n    x0 = Math.max(x0, minX);\r\n    x1 = Math.min(x1, maxX);\r\n    y0 = Math.min(y0, maxY);\r\n    y1 = Math.max(y1, minY);\r\n\r\n    // if the X axis is a Date return to Date after clamping\r\n    if (minX instanceof Date) {\r\n      x0 = new Date(x0);\r\n      x1 = new Date(x1);\r\n    }\r\n\r\n    if (x0 > x1) {\r\n      [x0, x1] = [x1, x0];\r\n    }\r\n\r\n    if (y0 < y1) {\r\n      [y0, y1] = [y1, y0];\r\n    }\r\n\r\n    let x0p = scaleX(x0);\r\n    let x1p = scaleX(x1);\r\n    let y0p = scaleY(y0);\r\n    let y1p = scaleY(y1);\r\n\r\n    //log(\"moveBrush\", brushID, brushValue, arguments[1]);\r\n    gBrushes.selectAll(\"#brush-\" + brushID).call(brushValue.brush.move, [\r\n      [x0p, y0p],\r\n      [x1p, y1p],\r\n    ]);\r\n\r\n    selection = [\r\n      [x0p, y0p],\r\n      [x1p, y1p],\r\n    ];\r\n    let selectionDomain = [\r\n      [x0, y0],\r\n      [x1, y1],\r\n    ];\r\n\r\n    let sourceEvent = new Event(\"move\"); // fake event to be able to call brushed programmatically\r\n    if (moveSelection) {\r\n      moveSelectedBrushes({ selection, sourceEvent }, [brushID, brushValue]);\r\n    } else {\r\n      brushed({ selection, sourceEvent }, [brushID, brushValue]);\r\n      brushTooltip.__update({\r\n        selection: selectionDomain,\r\n        selectionPixels: selection,\r\n      });\r\n    }\r\n  };\r\n\r\n  me.moveSelectedBrush = function (\r\n    [[x0, y0], [x1, y1]],\r\n    moveSelection = false\r\n  ) {\r\n    //log(\"Move selected brush\", selectedBrush);\r\n    if (!selectedBrush) {\r\n      log(\r\n        \"🚫 ERROR moveSelectedBrush called but selectedBrush is falsy \",\r\n        selectedBrush\r\n      );\r\n      return;\r\n    }\r\n\r\n    me.moveBrush(\r\n      selectedBrush,\r\n      [\r\n        [x0, y0],\r\n        [x1, y1],\r\n      ],\r\n      moveSelection\r\n    );\r\n  };\r\n\r\n  function procesFilters(filters) {\r\n    let processedFilters = [];\r\n    for (let i = 0; i < filters.length; ++i) {\r\n      let filter = filters[i];\r\n      let processedFilter = generateFilter({\r\n        mode: filter.hasOwnProperty(\"mode\") ? filter.mode : null,\r\n        aggregation: filter.hasOwnProperty(\"aggregation\")\r\n          ? filter.aggregation\r\n          : null,\r\n        selectionPixels: filter.hasOwnProperty(\"selectionPixels\")\r\n          ? filter.selectionPixels\r\n          : null,\r\n        selectionDomain: filter.hasOwnProperty(\"selectionDomain\")\r\n          ? filter.selectionDomain\r\n          : null,\r\n      });\r\n      processedFilters.push(processedFilter);\r\n    }\r\n    return processedFilters;\r\n  }\r\n\r\n  function generateFilter({\r\n    groupId,\r\n    selectionDomain,\r\n    selectionPixels,\r\n    mode,\r\n    aggregation,\r\n  }) {\r\n    return {\r\n      groupId: groupId,\r\n      selectionDomain: selectionDomain,\r\n      selectionPixels: selectionPixels,\r\n      mode: mode ? mode : BrushModes.Intersect,\r\n      aggregation: aggregation ? aggregation : BrushAggregation.And,\r\n    };\r\n  }\r\n\r\n  function generateBrush(\r\n    brush,\r\n    mode,\r\n    aggregation,\r\n    group,\r\n    selection,\r\n    selectionDomain,\r\n    initialSelection\r\n  ) {\r\n    return {\r\n      brush: brush,\r\n      intersections: null,\r\n      mode: mode,\r\n      aggregation: aggregation,\r\n      negate: false,\r\n      isSelected: false,\r\n      group: group,\r\n      selection: selection,\r\n      selectionDomain: selectionDomain,\r\n      initialSelection: initialSelection,\r\n    };\r\n  }\r\n  me.invertQuery = function (brushGroup) {\r\n    let brushes = brushesGroup.get(brushGroup).brushes;\r\n    let miny = Number.MAX_VALUE;\r\n    let maxy = Number.MIN_VALUE;\r\n    brushes.forEach((brush) => {\r\n      if (!brush.selection) return;\r\n      miny = Math.min(brush.selection[0][1], miny);\r\n      maxy = Math.max(brush.selection[1][1], maxy);\r\n    });\r\n    let midPointQuery = (maxy - miny) / 2 + miny;\r\n    brushes.forEach((brush, brushId) => {\r\n      if (!brush.selection) return;\r\n      let brushHeight = brush.selection[1][1] - brush.selection[0][1];\r\n      let brushMidPoint = brushHeight / 2 + brush.selection[0][1];\r\n      let distY = midPointQuery - brushMidPoint;\r\n      moveBrush([brushId, brush], 0, distY * 2);\r\n    });\r\n\r\n    tUpdateSelection();\r\n  };\r\n\r\n  me.invertQuerySelectedGroup = function () {\r\n    me.invertQuery(brushGroupSelected);\r\n  };\r\n\r\n  me.addFilters = function (filters, wipeAll = false) {\r\n    if (filters instanceof Map) {\r\n      filters = Array.from(filters.values());\r\n      filters.forEach((f) => (f.brushes = Array.from(f.brushes.values())));\r\n    }\r\n\r\n    if (filters.length === 0) return;\r\n\r\n    if (wipeAll) {\r\n      brushesGroup.clear();\r\n    } else {\r\n      // Remove the brush prepared to generate new TimeBox. Will be added later.\r\n      brushesGroup.forEach((group) => {\r\n        group.brushes.forEach((brush, id) => {\r\n          if (!brush.selection) group.brushes.delete(id);\r\n        });\r\n      });\r\n    }\r\n\r\n    for (let group of filters) {\r\n      let groupId = getUnusedIdBrushGroup();\r\n      let brushGroup = {\r\n        isEnable: group.isEnable ? group.isEnable : true,\r\n        isActive: group.isActive ? group.isActive : false,\r\n        name: group.name,\r\n        brushes: new Map(),\r\n      };\r\n      brushesGroup.set(groupId, brushGroup);\r\n      dataSelected.set(groupId, []);\r\n\r\n      for (const brush of group.brushes) {\r\n        if (!isInsideDomain(brush.selectionDomain, scaleX, scaleY)) {\r\n          // If the provided domain is out of bounds use the pixel selection. If not, set default value.\r\n          if (brush.selection)\r\n            brush.selectionDomain = getSelectionDomain(brush.selection);\r\n          else\r\n            brush.selectionDomain = getSelectionDomain([\r\n              [0, 100],\r\n              [0, 100],\r\n            ]);\r\n        }\r\n        newBrush(brush.mode, brush.aggregation, groupId, brush.selectionDomain);\r\n        brushSize++; // The brushSize will not be increased in onStartBrush\r\n        // because the last brush added will be the one set for a new Brush.\r\n      }\r\n    }\r\n\r\n    newBrush(); // Add another brush that handle the possible new TimeBox\r\n\r\n    brushFilter();\r\n    drawBrushes();\r\n  };\r\n\r\n  me.drawBrushes = function () {\r\n    drawBrushes();\r\n  };\r\n\r\n  me.setTsPosition = function (position) {\r\n    tsLevel = position;\r\n    //drawBrushes();\r\n  };\r\n\r\n  // add brush group without funct to avoid callback\r\n  let newId = getUnusedIdBrushGroup();\r\n  let brushGroup = {\r\n    isEnable: true,\r\n    isActive: true,\r\n    name: \"Group \" + (newId + 1),\r\n    brushes: new Map(),\r\n  };\r\n\r\n  brushesGroup.set(newId, brushGroup);\r\n  dataSelected.set(newId, []);\r\n  brushGroupSelected = newId;\r\n  brushesGroup.get(newId).isEnable = true;\r\n\r\n  newBrush();\r\n  drawBrushes();\r\n\r\n  return me;\r\n}\r\n\r\nexport default brushInteraction;\r\n","﻿import * as d3 from \"d3\";\r\nimport { add, intervalToDuration, sub } from \"date-fns\";\r\n\r\nimport { eventType, log } from \"./utils.js\";\r\n\r\nimport TimelineDetails from \"./TimelineDetails.js\";\r\nimport TimeLineOverview from \"./TimeLineOverview\";\r\nimport brushInteraction from \"./BrushInteraction\";\r\n\r\nfunction TimeWidget(\r\n  data,\r\n  {\r\n    /* Elements */\r\n    target = document.createElement(\"div\"), // pass a html element where you want to render\r\n    showBrushesControls = true, // If false you can still use brushesControlsElement to show the control on a different element on your app. For this use the exported value \"groups\"\r\n    showBrushTooltip = true, // Allows to display a tooltip on the brushes containing its coordinates.\r\n    showBrushesCoordinates = true, // If false you can still use brushesCoordinatesElement to show the control on a different element on your app. For this use the exported value \"brushesCoordinates\"\r\n    showDetails = true, // If false and with hasDetails = true, you can still use detailsElement to show the control on a different element on your app. For this use the exported value \"details\"\r\n    /* Data */\r\n    x = (d) => d.x, // Attribute to show in the X axis (Note that it also supports functions)\r\n    y = (d) => d.y, // Attribute to show in the Y axis (Note that it also supports functions)\r\n    id = (d) => d.id, // Attribute to group the input data (Note that it also supports functions)\r\n    color = null, //Specifies the attribute to be used to discriminate the groups (Note that it also supports functions).\r\n    referenceCurves = null, // Specifies a Json object with the information of the reference lines.\r\n    fmtX, // Function, how to format x points in the tooltip. If not provided will try to guess if it is a date or a number\r\n    fmtY = d3.format(\".1f\"), // Function, how to format x points in the tooltip\r\n    stepX = { days: 10 }, // Defines the step used, both in the spinboxes and with the arrows on the X axis.\r\n    stepY = 1, // // Defines the step used, both in the spinboxes and with the arrows on the Y axis.\r\n    xScale, //It allows to pass a scale of d3 with its parameters, except for the domain which is defined by the xDomain parameter.\r\n    yScale = d3.scaleLinear(), //It allows to pass a scale of d3 with its parameters, except for the domain which is defined by the yDomain parameter.\r\n    xDomain, // Defines the domain to be used in the x scale.\r\n    yDomain, // Defines the domain to be used in the y scale.\r\n    yLabel = \"\",\r\n    xLabel = \"\",\r\n    xTicks, //Allows to use custom strings as ticks on the X-axis independently of the X-scale. A vector of [xValue,Label] pairs is expected. Note that only the defined elements are displayed.\r\n    yTicks, //Allows to use custom strings as ticks on the y-axis independently of the y-scale. A vector of [yValue,Label] pairs is expected. Note that only the defined elements are displayed.\r\n    filters = [], // Array of filters to use, format [[x1, y1], [x2, y2], ...]\r\n    /* Color Configuration */\r\n    defaultAlpha = 0.7, // Default transparency (when no selection is active) of drawn lines\r\n    selectedAlpha = 1.0, // Transparency of selected lines\r\n    noSelectedAlpha = 0.1, // Transparency of unselected lines\r\n    alphaScale = d3.scalePow().exponent(0.25).range([1, 1]), // A scale to adjust the alpha by the number of rendering elements\r\n    backgroundColor = \"#ffffff\",\r\n    defaultColor = \"#aaa\", // Default color (when no selection is active) of the drawn lines. It only has effect when \"color\" is not defined.\r\n    selectedColor = \"#aaa\", // Color of selected lines. It only has effect when \"color\" is not defined.\r\n    noSelectedColor = \"#dce0e5\", // Color of unselected lines. It only has effect when \"color\" is not defined.\r\n    colorScale = d3.scaleOrdinal(d3.schemeAccent), // The color scale to be used to display the different groups defined by the \"color\" attribute.\r\n    brushesColorScale = color\r\n      ? d3.scaleOrdinal(d3.schemeGreys[3].toReversed())\r\n      : d3.scaleOrdinal(d3.schemeTableau10), // The color scale to be used to display the brushes\r\n    selectedColorTransform = (color, groupId) =>\r\n      d3.color(color).darker(groupId), // Function to be applied to the color of the selected group. It only has effect when \"color\" is defined.\r\n    /* Size Configuration */\r\n    width = 800, // Set the desired width of the overview Widget\r\n    detailsWidth = 400, // Set the desired width of the details Widget\r\n    height = 600, // Set the desired height of the overview Widget\r\n    detailsHeight = 300, // Set the desired height of the details Widget\r\n    detailsContainerHeight = 400, // Set the desired height of the details Widget\r\n    margin = { left: 50, top: 30, bottom: 50, right: 50 },\r\n    detailsMargin = null, // Margin options for details view, d3 common format, leave null for using the overview margin\r\n    /* CallBacks */\r\n    updateCallback = () => {}, // (data) => doSomethingWithData\r\n    statusCallback = () => {}, // (status) => doSomethingWithStatus\r\n    /* Rendering */\r\n    brushShadow = \"drop-shadow( 2px 2px 2px rgba(0, 0, 0, .7))\",\r\n    showGroupMedian = true, // If active show a line with the median of the enabled groups.\r\n    hasDetails = false, // Determines whether detail data will be displayed or not. Disabling it saves preprocessing time if detail data is not to be displayed.\r\n    doubleYlegend = false, // Allows the y-axis legend to be displayed on both sides of the chart.\r\n    showGrid = false, // If active, a reference grid is displayed.\r\n    brushGroupSize = 15, //Controls the size of the colored rectangles used to select the different brushGroups.\r\n    /* Performance */\r\n    maxDetailsRecords = 10, // How many results to show in the detail view\r\n    maxTimelines = null, // Set to a value to limit the number of distinct timelines to show\r\n    xPartitions = 10, // Partitions performed on the X-axis for the collision acceleration algorithm.\r\n    yPartitions = 10, // Partitions performed on the Y-axis for the collision acceleration algorithm.\r\n    /* Options */\r\n    medianNumBins = 10, // Number of bins used to compute the group median.\r\n    medianLineDash = [7], // Selected group median line dash pattern canvas style\r\n    medianLineAlpha = 1, // Selected group median line opacity\r\n    medianLineWidth = 2, // Selected group median line width\r\n    medianFn = d3.median, // Function to use when showing the median\r\n    medianMinRecordsPerBin = 5, // Min number of records each bin must have to be considered\r\n    autoUpdate = true, // Allows to decide whether changes in brushes are processed while moving, or only at the end of the movement.\r\n    _this, // pass the object this in order to be able to maintain the state in case of changes in the input\r\n    fixAxis, // When active, the axes will not change when modifying the data.\r\n    /* Legacy or to be deleted */\r\n    groupAttr = null, // DEPRECATED use color instead: Specifies the attribute to be used to discriminate the groups (Note that it also supports functions).\r\n    overviewWidth, // Legacy, to be deleted\r\n    overviewHeight, // Legacy, to be deleted\r\n    tsParent, // Set other TimeWidget parent to connect them.\r\n    highlightAlpha = 1, // Transparency oh the highlighted lines (lines selected in other TS)\r\n  } = {}\r\n) {\r\n  width = overviewWidth || width;\r\n  height = overviewHeight || height;\r\n  detailsMargin = detailsMargin || margin;\r\n\r\n  let ts = {},\r\n    groupedData,\r\n    fData,\r\n    overviewX,\r\n    overviewY,\r\n    divOverview,\r\n    divRender,\r\n    divControls,\r\n    divData,\r\n    brushesCoordinates,\r\n    detailsElement,\r\n    groupsElement,\r\n    svg,\r\n    gGroupBrushes,\r\n    gBrushes,\r\n    gReferences,\r\n    brushSpinBoxes = null,\r\n    medianBrushGroups,\r\n    dataSelected,\r\n    dataNotSelected,\r\n    renderSelected, // Selected data to render. Depends on selected DataGroup and the selection of other TS\r\n    renderNotSelected, // Non Selected data to render. Depends on selected DataGroup and the selection of other TS\r\n    showNonSelected, // Determines if unselected data is rendered\r\n    selectedGroupData,\r\n    hasScaleTime,\r\n    nGroupsData,\r\n    timelineDetails, // Centralizes the details component\r\n    timelineOverview, // Centralizes the overview component\r\n    tsElements, // Stores the HTML target of all connected TimeWidgets\r\n    tsElementsSelection, // Stores the selection made by other connected TimeWidgets\r\n    positionTs, // Stores the position of the current TimeWidget. 0 is the top.\r\n    otherSelectionToHightlight, // Determines what group and certain ts level must be highlighted\r\n    brushes;\r\n\r\n  // Exported Parameters\r\n  ts.xPartitions = xPartitions;\r\n  ts.yPartitions = yPartitions;\r\n  ts.defaultAlpha = defaultAlpha;\r\n  ts.selectedAlpha = selectedAlpha;\r\n  ts.noSelectedAlpha = noSelectedAlpha;\r\n  ts.backgroundColor = backgroundColor;\r\n  ts.defaultColor = defaultColor;\r\n  ts.selectedColor = selectedColor;\r\n  ts.noSelectedColor = noSelectedColor;\r\n  ts.hasDetails = hasDetails;\r\n  ts.margin = margin;\r\n  ts.colorScale = colorScale;\r\n  ts.brushesColorScale = brushesColorScale;\r\n  ts.color = color;\r\n  ts.doubleYlegend = doubleYlegend;\r\n  ts.showGrid = showGrid;\r\n  ts.showBrushTooltip = showBrushTooltip;\r\n  ts.autoUpdate = autoUpdate;\r\n  ts.brushGroupSize = brushGroupSize;\r\n  ts.stepX = stepX;\r\n  ts.stepY = stepY;\r\n  ts.medianLineAlpha = medianLineAlpha;\r\n  ts.medianLineWidth = medianLineWidth;\r\n  ts.medianLineDash = medianLineDash;\r\n  ts.medianNumBins = medianNumBins;\r\n  ts.medianFn = medianFn;\r\n  ts.alphaScale = alphaScale;\r\n  ts.medianMinRecordsPerBin = medianMinRecordsPerBin;\r\n  ts.yScale = yScale;\r\n  ts.xScale = xScale;\r\n  ts.highlightAlpha = highlightAlpha;\r\n  ts.selectedColorTransform = selectedColorTransform;\r\n\r\n  //Backwards compatibility with groupAttr.\r\n  if (groupAttr) {\r\n    console.warn('The attribute \"groupAttr\" is deprecated use \"color\" instead');\r\n    color = groupAttr;\r\n  }\r\n\r\n  // Convert attrStrings to functions\r\n  if (typeof x === \"string\") {\r\n    let _x = x;\r\n    x = (d) => d[_x];\r\n  }\r\n  if (typeof y === \"string\") {\r\n    let _y = y;\r\n    y = (d) => d[_y];\r\n  }\r\n  if (typeof id === \"string\") {\r\n    let _id = id;\r\n    id = (d) => d[_id];\r\n  }\r\n  if (color && typeof color === \"string\") {\r\n    let _color = color;\r\n    color = (d) => d[_color];\r\n  }\r\n\r\n  divOverview = d3\r\n    .select(target)\r\n    .style(\"display\", \"flex\")\r\n    .style(\"flex-wrap\", \"wrap\")\r\n    .style(\"position\", \"relative\")\r\n    .style(\"top\", \"0px\")\r\n    .style(\"left\", \"0px\")\r\n    .style(\"background-color\", ts.backgroundColor)\r\n    .node();\r\n\r\n  // Listen to customEvent to connect TimeWidgets\r\n  d3.select(target).on(\"TimeWidget\", onTimeWidgetEvent);\r\n  d3.select(target).on(\"input\", onInput);\r\n\r\n  divControls =\r\n    divControls ||\r\n    d3.select(target).select(\"#control\").node() ||\r\n    d3.create(\"div\").attr(\"id\", \"control\").node();\r\n  brushesCoordinates =\r\n    brushesCoordinates ||\r\n    d3.select(target).select(\"#brushesCoordinates\").node() ||\r\n    d3.create(\"div\").attr(\"id\", \"brushesCoordinates\").node();\r\n  groupsElement =\r\n    groupsElement ||\r\n    d3.select(target).select(\"#brushesGroups\").node() ||\r\n    d3.create(\"div\").attr(\"id\", \"brushesGroups\").node();\r\n  medianBrushGroups = new Map();\r\n  dataSelected = new Map();\r\n  dataNotSelected = [];\r\n  selectedGroupData = new Set();\r\n  showNonSelected = true;\r\n  //positionTs = 0;\r\n  tsElementsSelection = [];\r\n\r\n  function initBrushesControls() {\r\n    groupsElement.innerHTML = `<div style=\"flex-basis:100%;\">\r\n    <div id=\"brushesList\">\r\n    </div>\r\n    <button id=\"btnAddBrushGroup\">Add Group</button>\r\n    </div>`;\r\n\r\n    groupsElement\r\n      .querySelector(\"button#btnAddBrushGroup\")\r\n      .addEventListener(\"click\", onAddBrushGroup);\r\n\r\n    if (showBrushesControls) {\r\n      d3.select(groupsElement).insert(\"h3\", \":first-child\").text(\"Groups:\");\r\n      divControls.appendChild(groupsElement);\r\n    }\r\n  }\r\n\r\n  function computeBrushColor(groupId) {\r\n    if (positionTs !== undefined)\r\n      return ts.brushesColorScale[groupId](positionTs);\r\n\r\n    if (ts.brushesColorScale instanceof Array)\r\n      return ts.brushesColorScale[groupId](positionTs);\r\n\r\n    return ts.brushesColorScale(groupId);\r\n  }\r\n\r\n  function onAddBrushGroup() {\r\n    brushes.addBrushGroup();\r\n\r\n    //Sent event to others TS\r\n    if (tsElements) {\r\n      let event = new CustomEvent(\"TimeWidget\", {\r\n        detail: {\r\n          type: eventType.addBrushGroup,\r\n        },\r\n      });\r\n      sentEvent(event);\r\n    }\r\n  }\r\n\r\n  function onChangeNonSelected(newState) {\r\n    showNonSelected = newState;\r\n\r\n    if (tsElements) {\r\n      let event = new CustomEvent(\"TimeWidget\", {\r\n        detail: {\r\n          type: eventType.changeNonSelected,\r\n          data: {\r\n            newState: newState,\r\n          },\r\n        },\r\n      });\r\n      sentEvent(event);\r\n    }\r\n  }\r\n\r\n  function onChangeBrushGroupState(id, newState) {\r\n    brushes.changeBrushGroupState(id, newState);\r\n\r\n    //Sent event to ohter Ts\r\n    if (tsElements) {\r\n      let event = new CustomEvent(\"TimeWidget\", {\r\n        detail: {\r\n          type: eventType.changeBrushGroupState,\r\n          data: {\r\n            id: id,\r\n            newState: newState,\r\n          },\r\n        },\r\n      });\r\n      sentEvent(event);\r\n    }\r\n  }\r\n\r\n  function onInput() {\r\n    log(\"Oninput test\");\r\n  }\r\n\r\n  function onRemoveBrushGroup(id) {\r\n    brushes.removeBrushGroup(id);\r\n\r\n    // Sent event to others TS\r\n    if (tsElements) {\r\n      let event = new CustomEvent(\"TimeWidget\", {\r\n        detail: {\r\n          type: eventType.removeBrushGroup,\r\n          data: id,\r\n        },\r\n      });\r\n\r\n      sentEvent(event);\r\n    }\r\n  }\r\n\r\n  function onSelectBrushGroup(id) {\r\n    brushes.selectBrushGroup(id);\r\n    // Sent event to others TS\r\n    if (tsElements) {\r\n      let event = new CustomEvent(\"TimeWidget\", {\r\n        detail: {\r\n          type: eventType.selectBrushGroup,\r\n          data: id,\r\n        },\r\n      });\r\n\r\n      sentEvent(event);\r\n    }\r\n  }\r\n\r\n  function onChangeSelectedBrush(brush) {\r\n    if (tsElements) {\r\n      if (brush) {\r\n        let event = new CustomEvent(\"TimeWidget\", {\r\n          detail: {\r\n            type: eventType.deselectAllBrushes,\r\n          },\r\n        });\r\n        sentEvent(event);\r\n      }\r\n\r\n      let event;\r\n      if (brush) {\r\n        event = new CustomEvent(\"TimeWidget\", {\r\n          detail: {\r\n            type: eventType.highlightSelection,\r\n            data: {\r\n              positionTs: positionTs,\r\n              groupId: brush[1].group,\r\n            },\r\n          },\r\n        });\r\n      } else {\r\n        event = new CustomEvent(\"TimeWidget\", {\r\n          detail: {\r\n            type: eventType.highlightSelection,\r\n          },\r\n        });\r\n      }\r\n      sentEvent(event);\r\n    }\r\n  }\r\n\r\n  function renderBrushesControls() {\r\n    d3.select(groupsElement)\r\n      .select(\"#brushesList\")\r\n      .selectAll(\".brushControl\")\r\n      .data(brushes.getBrushesGroup(), (d) => d[0])\r\n      .join(\"div\")\r\n      .attr(\"class\", \"brushControl\")\r\n      .each(function (d, i, n) {\r\n        let groupsSize = n.length;\r\n\r\n        const div = d3.select(this);\r\n        let groupName = d[1].name;\r\n        let groupCount = renderSelected.has(d[0])\r\n          ? renderSelected.get(d[0]).length\r\n          : 0;\r\n        div.node().innerHTML = `<div style=\"\r\n            display: flex;\r\n            flex-wrap: nowrap;\r\n            align-items: center;\r\n          \">\r\n            <input type=\"checkbox\" id=\"checkBoxShowBrushGroup\" ${\r\n              d[1].isEnable ? \"checked\" : \"\"\r\n            } ></input>\r\n            <div\r\n              id=\"groupColor\"\r\n              style=\"\r\n              min-width: ${ts.brushGroupSize}px;\r\n              width: ${ts.brushGroupSize}px;\r\n              height: ${ts.brushGroupSize}px;\r\n              background-color: ${computeBrushColor(d[0])};\r\n              border-width: ${\r\n                d[0] === brushes.getBrushGroupSelected() ? 2 : 0\r\n              }px;\r\n              border-color: black;\r\n              border-style: solid;\r\n              margin-right: 5px;\r\n              cursor: pointer;\r\n            \"></div>\r\n            <input\r\n              id=\"groupName\"\r\n              style=\"margin-right: 5px; border: none;outline: none; width: ${\r\n                groupName.length\r\n              }ch;\"\r\n              contenteditable=\"true\"\r\n              value=\"${groupName}\"></input>\r\n            <span id=\"groupSize\" style=\"margin-right: 5px;\">(${groupCount})</span>\r\n           <button style=\"color: red;font-weight: bold; border:none; background:none;\r\n            display:${\r\n              groupsSize > 1 ? \"block\" : \"none\"\r\n            }\" id=\"btnRemoveBrushGroup\">&cross;</button>\r\n          </div>\r\n        `;\r\n\r\n        div.select(\"input#groupName\").on(\"input\", function (evt) {\r\n          // Only update the name on change\r\n\r\n          // make the input fit the content\r\n          d3.select(this).style(\"width\", evt.target.value.length + \"ch\");\r\n        });\r\n        div.select(\"input#groupName\").on(\"change\", (evt) => {\r\n          // make the input fit the content\r\n          d3.select(this).style(\"width\", evt.target.value.length + \"ch\");\r\n          brushes.updateBrushGroupName(d[0], evt.target.value);\r\n          triggerValueUpdate();\r\n        });\r\n        div.select(\"#btnRemoveBrushGroup\").on(\"click\", (event) => {\r\n          event.stopPropagation();\r\n          onRemoveBrushGroup(d[0]);\r\n        });\r\n        div.select(\"#checkBoxShowBrushGroup\").on(\"click\", (event) => {\r\n          //Prevent the event from reaching the element li\r\n          event.stopPropagation();\r\n        });\r\n        div.select(\"#checkBoxShowBrushGroup\").on(\"change\", (event) => {\r\n          event.stopPropagation();\r\n          onChangeBrushGroupState(d[0], event.target.checked);\r\n          console.log(\r\n            \"Should change state of brushesGroup \" + d[0],\r\n            event.target.checked\r\n          );\r\n        });\r\n\r\n        // Select only on the box and size\r\n        div\r\n          .select(\"div#groupColor\")\r\n          .on(\"click\", () => onSelectBrushGroup(d[0]));\r\n        div\r\n          .select(\"span#groupSize\")\r\n          .on(\"click\", () => onSelectBrushGroup(d[0]));\r\n      });\r\n\r\n    // Render the nonSelected Group always on bottom of list\r\n    d3.select(groupsElement)\r\n      .select(\"#brushesList\")\r\n      .selectAll(\".nonSelectedControl\")\r\n      .remove();\r\n\r\n    d3.select(groupsElement)\r\n      .select(\"#brushesList\")\r\n      .append(\"div\")\r\n      .attr(\"class\", \"nonSelectedControl\")\r\n      .each(function () {\r\n        const li = d3.select(this);\r\n        let groupName = \"Non selected\";\r\n        let groupCount = renderNotSelected.length;\r\n\r\n        li.node().innerHTML = `<div style=\"\r\n            display: flex;\r\n            flex-wrap: nowrap;\r\n            align-items: center;\r\n            margin-bottom: 5px;\r\n          \">\r\n            <input type=\"checkbox\" id=\"checkBoxShowBrushGroup\" ${\r\n              showNonSelected ? \"checked\" : \"\"\r\n            } ></input>\r\n            <output\r\n              style=\"margin-right: 0; border: none;outline: none; width: ${\r\n                groupName.length\r\n              }ch;\"\r\n              >${groupName}</output>\r\n            <span id=\"groupSize\" style=\"margin-right: 5px;\">(${groupCount})</span>\r\n          </div>\r\n        `;\r\n\r\n        li.select(\"#checkBoxShowBrushGroup\").on(\"change\", (event) => {\r\n          event.stopPropagation();\r\n          onChangeNonSelected(event.target.checked);\r\n          onSelectionChange();\r\n        });\r\n      });\r\n\r\n    // Render internal brush  controls\r\n    gGroupBrushes\r\n      .selectAll(\".colorBrushes\")\r\n      .data(brushes.getBrushesGroup(), (d) => d[0])\r\n      .join(\"rect\")\r\n      .attr(\"class\", \"colorBrushes\")\r\n      .attr(\"id\", (d) => \"colorBrush-\" + d[0])\r\n      .attr(\"height\", ts.brushGroupSize)\r\n      .attr(\"width\", ts.brushGroupSize)\r\n      .attr(\r\n        \"transform\",\r\n        (d, i) => `translate(${90 + i * (ts.brushGroupSize + 5)}, -2)`\r\n      )\r\n      .style(\"stroke-width\", (d) =>\r\n        d[0] === brushes.getBrushGroupSelected() ? 2 : 0\r\n      )\r\n      .style(\"stroke\", \"black\")\r\n      .style(\"fill\", (d) => computeBrushColor(d[0]))\r\n      .on(\"click\", function () {\r\n        let id = d3.select(this).attr(\"id\").substr(\"11\");\r\n        onSelectBrushGroup(+id);\r\n      });\r\n  }\r\n\r\n  function initDomains({ xDataType, fData }) {\r\n    if (!xDomain) {\r\n      xDomain = fixAxis && _this ? _this.extent.x : d3.extent(fData, x); // Keep same axes as in the first rendering\r\n    }\r\n\r\n    overviewX = xScale ? xScale.copy() : undefined;\r\n\r\n    if (xDataType === \"object\" && x(fData[0]) instanceof Date) {\r\n      // X is Date\r\n      hasScaleTime = true;\r\n      if (!overviewX) overviewX = d3.scaleTime();\r\n      overviewX.domain(xDomain);\r\n      if (!fmtX) {\r\n        // It is a function of type d3.timeFormat. I don't like the way to check that it is a function of that type, but I don't know a better one.\r\n        fmtX = d3.timeFormat(\"%Y-%m-%d\");\r\n      } else if (fmtX.name === \"M\") {\r\n        console.log(\r\n          \"👁️t has been detected that the parameter fmtX formats numerical data, while the data selected for \" +\r\n            'the X-axis is a date. The function d3.timeFormat(\"%Y-%m-%d\") will be used as fmtX; '\r\n        );\r\n        fmtX = d3.timeFormat(\"%Y-%m-%d\");\r\n      }\r\n    } else {\r\n      // We if x is something else overviewX won't be assigned\r\n      // if (xDataType === \"number\") {\r\n      // X is number\r\n      if (!overviewX) overviewX = d3.scaleLinear();\r\n      overviewX.domain(xDomain);\r\n      if (!fmtX) {\r\n        fmtX = d3.format(\".1f\");\r\n      }\r\n    }\r\n\r\n    overviewX.range([0, width - ts.margin.right - ts.margin.left]).nice();\r\n\r\n    if (!yDomain) {\r\n      yDomain = fixAxis && _this ? _this.extent.y : d3.extent(fData, y); // Keep same axes as in the first rendering\r\n    }\r\n\r\n    overviewY = yScale.copy();\r\n\r\n    overviewY.domain(yDomain);\r\n\r\n    overviewY\r\n      .range([height - ts.margin.top - ts.margin.bottom, 0])\r\n      .nice()\r\n      .clamp(true);\r\n  }\r\n\r\n  function init() {\r\n    //CreateOverView\r\n    divData = d3\r\n      .select(divControls)\r\n      .selectAll(\"div#divData\")\r\n      .data([1])\r\n      .join(\"div\")\r\n      .attr(\"id\", \"divData\");\r\n\r\n    divRender = d3\r\n      .select(divOverview)\r\n      .selectAll(\"div#render\")\r\n      .data([1])\r\n      .join(\"div\")\r\n      .attr(\"id\", \"render\")\r\n      .style(\"position\", \"relative\")\r\n      .style(\"z-index\", 1);\r\n\r\n    timelineOverview = TimeLineOverview({\r\n      ts,\r\n      element: divRender.node(),\r\n      width: width,\r\n      height: height,\r\n      x,\r\n      y,\r\n      groupAttr: color,\r\n      overviewX,\r\n      overviewY,\r\n    });\r\n\r\n    svg = divRender\r\n      .selectAll(\"svg\")\r\n      .data([1])\r\n      .join(\"svg\")\r\n      .attr(\"viewBox\", [0, 0, width, height])\r\n      .attr(\"height\", height)\r\n      .attr(\"width\", width);\r\n\r\n    const g = svg\r\n      .selectAll(\"g.gDrawing\")\r\n      .data([1])\r\n      .join(\"g\")\r\n      .attr(\"class\", \"gDrawing\")\r\n      .attr(\"transform\", `translate(${ts.margin.left}, ${ts.margin.top})`)\r\n      .attr(\"tabindex\", 0)\r\n      .style(\"pointer-events\", \"all\")\r\n      .style(\"outline\", \"-webkit-focus-ring-color solid 0px\")\r\n      .on(\"keydown\", (e) => {\r\n        e.preventDefault();\r\n        switch (e.key) {\r\n          case \"r\":\r\n          case \"Backspace\":\r\n          case \"Delete\":\r\n            brushes.removeSelectedBrush();\r\n            break;\r\n          case \"+\":\r\n            onAddBrushGroup();\r\n            break;\r\n          case \"ArrowRight\":\r\n            onArrowRigth(e);\r\n            break;\r\n          case \"ArrowLeft\":\r\n            onArrowLeft(e);\r\n            break;\r\n          case \"ArrowUp\":\r\n            onArrowUp(e);\r\n            break;\r\n          case \"ArrowDown\":\r\n            onArrowDown(e);\r\n            break;\r\n          case \"i\":\r\n            brushes.invertQuerySelectedGroup();\r\n            break;\r\n        }\r\n      });\r\n\r\n    let yAxis = d3.axisLeft(overviewY);\r\n    if (yTicks) {\r\n      yAxis\r\n        .tickValues(yTicks.map((d) => d[0]))\r\n        .tickFormat((d, i) => (yTicks[i][1] ? yTicks[i][1] : yTicks[i][0]));\r\n    }\r\n\r\n    let gmainY = g\r\n      .selectAll(\"g.mainYAxis\")\r\n      .data([1])\r\n      .join(\"g\")\r\n      .attr(\"class\", \"mainYAxis\")\r\n      .call(yAxis)\r\n      .call((axis) =>\r\n        axis\r\n          .selectAll(\"text.label\")\r\n          .data([1])\r\n          .join(\"text\")\r\n          .text(yLabel)\r\n          .attr(\"dy\", -15)\r\n          .attr(\"class\", \"label\")\r\n          .style(\"fill\", \"black\")\r\n          .style(\"text-anchor\", \"end\")\r\n          .style(\"pointer-events\", \"none\")\r\n      )\r\n      .style(\"pointer-events\", \"none\");\r\n\r\n    if (ts.doubleYlegend) {\r\n      g.selectAll(\"g.secondYaxis\")\r\n        .data([1])\r\n        .join(\"g\")\r\n        .attr(\"class\", \"secondYaxis\")\r\n        .call(d3.axisRight(overviewY))\r\n        .attr(\r\n          \"transform\",\r\n          `translate(${width - ts.margin.left - ts.margin.right},0)`\r\n        )\r\n        .style(\"pointer-events\", \"none\");\r\n    }\r\n\r\n    let xAxis = d3.axisBottom(overviewX ? overviewX : g);\r\n    if (xTicks) {\r\n      xAxis\r\n        .tickValues(xTicks.map((d) => d[0]))\r\n        .tickFormat((d, i) => (xTicks[i][1] ? xTicks[i][1] : xTicks[i][0]));\r\n    }\r\n\r\n    let gmainx = g\r\n      .selectAll(\"g.mainXAxis\")\r\n      .data([1])\r\n      .join(\"g\")\r\n      .attr(\"class\", \"mainXAxis\")\r\n      .call(xAxis)\r\n      .attr(\r\n        \"transform\",\r\n        `translate(0, ${height - ts.margin.top - ts.margin.bottom})`\r\n      )\r\n      .call((axis) =>\r\n        axis\r\n          .selectAll(\"text.label\")\r\n          .data([1])\r\n          .join(\"text\")\r\n          .attr(\"class\", \"label\")\r\n          .text(xLabel)\r\n          .attr(\r\n            \"transform\",\r\n            `translate(${width - ts.margin.right - ts.margin.left - 5}, -10 )`\r\n          )\r\n          .style(\"fill\", \"black\")\r\n          .style(\"text-anchor\", \"end\")\r\n          .style(\"pointer-events\", \"none\")\r\n      )\r\n      .style(\"pointer-events\", \"none\");\r\n\r\n    gReferences = g\r\n      .selectAll(\"g.gReferences\")\r\n      .data([1])\r\n      .join(\"g\")\r\n      .attr(\"class\", \"gReferences\")\r\n      .style(\"pointer-events\", \"none\");\r\n\r\n    gmainY\r\n      .selectAll(\"g.tick\")\r\n      .selectAll(\".gridline\")\r\n      .data(ts.showGrid ? [1] : [])\r\n      .join(\"line\")\r\n      .attr(\"class\", \"gridline\")\r\n      .attr(\"x1\", 0)\r\n      .attr(\"y1\", 0)\r\n      .attr(\"x2\", width - ts.margin.right - ts.margin.left)\r\n      .attr(\"y2\", 0)\r\n      .attr(\"stroke\", \"#9ca5aecf\") // line color\r\n      .attr(\"stroke-dasharray\", \"4\"); // make it dashed;;\r\n\r\n    gmainx\r\n      .selectAll(\"g.tick\")\r\n      .selectAll(\".gridline\")\r\n      .data(ts.showGrid ? [1] : [])\r\n      .join(\"line\")\r\n      .attr(\"class\", \"gridline\")\r\n      .attr(\"x1\", 0)\r\n      .attr(\"y1\", -height + ts.margin.top + ts.margin.bottom)\r\n      .attr(\"x2\", 0)\r\n      .attr(\"y2\", 0)\r\n      .attr(\"stroke\", \"#9ca5aecf\") // line color\r\n      .attr(\"stroke-dasharray\", \"4\"); // make it dashed;\r\n\r\n    if (color) {\r\n      fData.forEach((d) => selectedGroupData.add(color(d)));\r\n      nGroupsData = selectedGroupData.size;\r\n    }\r\n\r\n    gGroupBrushes = svg\r\n      .selectAll(\"g.colorBrushes\")\r\n      .data([1])\r\n      .join(\"g\")\r\n      .attr(\"class\", \"colorBrushes\")\r\n      .attr(\r\n        \"transform\",\r\n        `translate(${ts.margin.left + 10},${\r\n          ts.margin.top - ts.brushGroupSize - 5\r\n        } )`\r\n      );\r\n\r\n    // TODO John: We might want to move this into brushInteraction\r\n    gBrushes = g\r\n      .selectAll(\"g#brushes\")\r\n      .data([1])\r\n      .join(\"g\")\r\n      .attr(\"id\", \"brushes\");\r\n\r\n    brushes = brushInteraction({\r\n      ts,\r\n      element: gBrushes.node(),\r\n      data: groupedData,\r\n      tooltipTarget: divRender.node(),\r\n      contextMenuTarget: divRender.node(),\r\n      width,\r\n      height,\r\n      xPartitions,\r\n      yPartitions,\r\n      x,\r\n      y,\r\n      brushShadow,\r\n      fmtY,\r\n      fmtX: fmtX,\r\n      scaleX: overviewX,\r\n      scaleY: overviewY,\r\n      updateTime: 150,\r\n      tsLevel: positionTs,\r\n      selectionCallback: onSelectionChange,\r\n      groupsCallback: onBrushGroupsChange,\r\n      changeSelectedCoordinatesCallback: onBrushCoordinatesChange,\r\n      selectedBrushCallback: onChangeSelectedBrush,\r\n    });\r\n\r\n    gGroupBrushes\r\n      .selectAll(\"text\")\r\n      .data([1])\r\n      .join(\"text\")\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", ts.brushGroupSize / 2 + 2)\r\n      .text(\"Groups + : \")\r\n      .style(\"cursor\", \"pointer\")\r\n      .on(\"click\", onAddBrushGroup);\r\n\r\n    divOverview.appendChild(divControls);\r\n    initBrushCoordinates();\r\n    initBrushesControls();\r\n\r\n    return g;\r\n  }\r\n\r\n  // Callback that is called every time the coordinates of the selected brush are modified.\r\n  function onBrushCoordinatesChange(selection) {\r\n    updateBrushSpinBox(selection);\r\n    updateStatus();\r\n  }\r\n\r\n  function updateBrushSpinBox(selection) {\r\n    if (selection) {\r\n      let [[x0, y0], [x1, y1]] = selection;\r\n\r\n      // When initializing the brushes the spinbox is not ready\r\n      if (brushSpinBoxes) {\r\n        let [[sx0, sy0], [sx1, sy1]] = brushSpinBoxes;\r\n\r\n        sx0.node().value = fmtX(x0);\r\n        sx1.node().value = fmtX(x1);\r\n        sy0.node().value = fmtY(y1).replace(\"\\u2212\", \"-\"); // Change D3 minus sign to parseable minus\r\n        sy1.node().value = fmtY(y0).replace(\"\\u2212\", \"-\");\r\n      } else {\r\n        log(\r\n          \"updateBrushSpinBox called, but brushSpinBoxes not ready \",\r\n          brushSpinBoxes\r\n        );\r\n      }\r\n    } else {\r\n      emptyBrushSpinBox();\r\n    }\r\n  }\r\n\r\n  function emptyBrushSpinBox() {\r\n    let [[sx0, sy0], [sx1, sy1]] = brushSpinBoxes;\r\n\r\n    sx0.node().value = \"\";\r\n    sx1.node().value = \"\";\r\n    sy0.node().value = \"\";\r\n    sy1.node().value = \"\";\r\n  }\r\n\r\n  function initBrushCoordinates() {\r\n    brushesCoordinates.innerHTML = \"\";\r\n    let selection = d3.select(brushesCoordinates);\r\n    let divX = selection.append(\"div\");\r\n\r\n    divX.append(\"span\").text(xLabel ? xLabel : \"X Axis:\");\r\n\r\n    let divInputX = divX.append(\"div\");\r\n\r\n    let domainX = overviewX.domain();\r\n    let x0 = divInputX\r\n      .append(\"div\")\r\n      .append(\"input\")\r\n      .attr(\"type\", hasScaleTime ? \"Date\" : \"number\")\r\n      .attr(\"min\", hasScaleTime ? fmtX(domainX[0]) : domainX[0])\r\n      .attr(\"max\", hasScaleTime ? fmtX(domainX[1]) : domainX[1])\r\n      .attr(\"step\", ts.stepX)\r\n      .attr(\"width\", \"50%\")\r\n      // .style(\"background-color\", ts.backgroundColor)\r\n      .on(\"change\", onSpinboxChange);\r\n\r\n    let x1 = divInputX\r\n      .append(\"div\")\r\n      .append(\"input\")\r\n      .attr(\"type\", hasScaleTime ? \"Date\" : \"number\")\r\n      .attr(\"min\", hasScaleTime ? fmtX(domainX[0]) : domainX[0])\r\n      .attr(\"max\", hasScaleTime ? fmtX(domainX[1]) : domainX[1])\r\n      .attr(\"width\", \"50%\")\r\n      .attr(\"step\", ts.stepX)\r\n      // .style(\"background-color\", ts.backgroundColor)\r\n      .on(\"change\", onSpinboxChange);\r\n\r\n    let divY = selection.append(\"div\");\r\n\r\n    divY.append(\"span\").text(yLabel ? yLabel : \"Y Axis:\");\r\n\r\n    let divInputY = divY.append(\"div\");\r\n\r\n    let domainY = overviewY.domain();\r\n\r\n    let y0 = divInputY\r\n      .append(\"div\")\r\n      .append(\"input\")\r\n      .attr(\"type\", \"number\")\r\n      .attr(\"min\", domainY[0])\r\n      .attr(\"max\", domainY[1])\r\n      .attr(\"width\", \"50%\")\r\n      .attr(\"step\", ts.stepY)\r\n      // .style(\"background-color\", ts.backgroundColor)\r\n      .on(\"change\", onSpinboxChange);\r\n\r\n    let y1 = divInputY\r\n      .append(\"div\")\r\n      .append(\"input\")\r\n      .attr(\"type\", \"number\")\r\n      .attr(\"min\", domainY[0])\r\n      .attr(\"max\", domainY[1])\r\n      .attr(\"width\", \"50%\")\r\n      .attr(\"step\", ts.stepY)\r\n      // .style(\"background-color\", ts.backgroundColor)\r\n      .on(\"change\", onSpinboxChange);\r\n\r\n    brushSpinBoxes = [\r\n      [x0, y0],\r\n      [x1, y1],\r\n    ];\r\n\r\n    if (showBrushesCoordinates) {\r\n      selection\r\n        .insert(\"h3\", \":first-child\")\r\n        .text(\"Current TimeBox Coordinates:\");\r\n      divControls.appendChild(brushesCoordinates);\r\n    }\r\n  }\r\n\r\n  function generateDataSelectionDiv() {\r\n    if (color) {\r\n      divData.node().innerHTML = \"\";\r\n      divData.append(\"span\").text(\"Data groups: \");\r\n\r\n      let divButtons = divData\r\n        .selectAll(\".groupData\")\r\n        .data(selectedGroupData)\r\n        .join(\"div\")\r\n        .attr(\"class\", \"groupData\");\r\n      divButtons\r\n        .append(\"button\")\r\n        .style(\"font-size\", `${ts.brushGroupSize}px`)\r\n        .style(\"stroke\", \"black\")\r\n        .style(\"margin\", \"2px\")\r\n        .style(\"margin-right\", \"10px\")\r\n        .style(\"border-width\", \"3px\")\r\n        .style(\"border\", \"solid black\")\r\n        .style(\"width\", `${ts.brushGroupSize}px`)\r\n        .style(\"height\", `${ts.brushGroupSize}px`)\r\n        .style(\"background-color\", (d) => ts.colorScale(d))\r\n        .on(\"click\", function (event, d) {\r\n          if (selectedGroupData.has(d)) {\r\n            selectedGroupData.delete(d);\r\n            d3.select(this).style(\"border\", \"solid transparent\");\r\n          } else {\r\n            selectedGroupData.add(d);\r\n            d3.select(this).style(\"border\", \"solid black\");\r\n          }\r\n\r\n          onGroupDataChange();\r\n        });\r\n      divButtons.append(\"span\").text((d) => d);\r\n    }\r\n  }\r\n\r\n  // Filter dataSelected and dataNotSelected by enable dataGroups\r\n  function filterDatabyDataGroups(dataSelected, dataNotSelected) {\r\n    let dataSelectedF = new Map(dataSelected);\r\n    let dataNotSelectedF = dataNotSelected;\r\n    for (let d of dataSelectedF) {\r\n      let filtered = d[1].filter((d) => selectedGroupData.has(color(d[1][0])));\r\n      dataSelectedF.set(d[0], filtered);\r\n    }\r\n    dataNotSelectedF = dataNotSelectedF.filter((d) =>\r\n      selectedGroupData.has(color(d[1][0]))\r\n    );\r\n\r\n    return [dataSelectedF, dataNotSelectedF];\r\n  }\r\n\r\n  // Called when the active dataGroups are modified.\r\n  function onGroupDataChange() {\r\n    onSelectionChange();\r\n  }\r\n\r\n  function initDetails({ overviewX, overviewY }) {\r\n    if (ts.hasDetails) {\r\n      // see if already exists and element and reutilize it, if not create new div\r\n      if (!detailsElement) {\r\n        detailsElement =\r\n          d3.select(target).select(\"#details\").node() ||\r\n          d3.create(\"div\").attr(\"id\", \"#details\").node();\r\n      }\r\n\r\n      // TimelineDetails object\r\n      timelineDetails = TimelineDetails({\r\n        ts,\r\n        detailsElement,\r\n        detailsContainerHeight,\r\n        detailsWidth,\r\n        maxDetailsRecords,\r\n        detailsHeight,\r\n        x,\r\n        y,\r\n        margin: detailsMargin,\r\n      });\r\n\r\n      timelineDetails.setScales({ overviewX, overviewY });\r\n      if (showDetails) divOverview.appendChild(detailsElement);\r\n    }\r\n  }\r\n\r\n  // Callback that is called when the value of the spinboxes is modified.\r\n  function onSpinboxChange(sourceEvent) {\r\n    let selectedBrush = brushes.getSelectedBrush();\r\n    if (selectedBrush === null) return;\r\n\r\n    let [[sx0, sy0], [sx1, sy1]] = brushSpinBoxes;\r\n\r\n    let domainX = overviewX.domain();\r\n\r\n    let x0;\r\n    let x1;\r\n    let y0 = +sy1.node().value;\r\n    let y1 = +sy0.node().value;\r\n\r\n    if (hasScaleTime) {\r\n      x0 = new Date(sx0.node().value);\r\n      x1 = new Date(sx1.node().value);\r\n      if (x0 >= x1) {\r\n        if (sourceEvent.target === sx0.node()) {\r\n          x1 = add(x0, ts.stepX);\r\n          x1 = Math.min(x1, domainX[1]);\r\n          sx1.node().value = fmtX(x1);\r\n        } else {\r\n          x0 = sub(x1, ts.stepX);\r\n          x0 = Math.max(x0, domainX[0]);\r\n          sx0.node().value = fmtX(x0);\r\n        }\r\n      }\r\n    } else {\r\n      x0 = +sx0.node().value;\r\n      x1 = +sx1.node().value;\r\n\r\n      if (x0 >= x1) {\r\n        if (sourceEvent.target === sx0.node()) {\r\n          x1 = x0 + ts.stepX;\r\n          sx1.node().value = x1;\r\n        } else {\r\n          x0 = x1 - ts.stepX;\r\n          sx0.node().value = x0;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (y1 >= y0) {\r\n      if (sourceEvent.target === sy0.node()) {\r\n        y0 = y1 + ts.stepY;\r\n        sy1.node().value = y0;\r\n      } else {\r\n        y1 = y0 - ts.stepY;\r\n        sy0.node().value = y1;\r\n      }\r\n    }\r\n\r\n    brushes.moveSelectedBrush([\r\n      [x0, y0],\r\n      [x1, y1],\r\n    ]);\r\n  }\r\n\r\n  function onArrowRigth() {\r\n    let selectedBrush = brushes.getSelectedBrush();\r\n    if (selectedBrush === null) return;\r\n\r\n    let [[x0, y0], [x1, y1]] = selectedBrush[1].selectionDomain;\r\n\r\n    let maxX = overviewX.domain()[1];\r\n\r\n    if (hasScaleTime) {\r\n      x1 = add(x1, ts.stepX);\r\n      if (x1 > maxX) {\r\n        x1 = sub(x1, ts.stepX);\r\n        let dist = intervalToDuration({ start: x1, end: maxX });\r\n        x1 = maxX;\r\n        x0 = add(x0, dist);\r\n      } else {\r\n        x0 = add(x0, ts.stepX);\r\n      }\r\n    } else {\r\n      x1 += ts.stepX;\r\n      if (x1 > maxX) {\r\n        let dist = maxX - x1 + ts.stepX;\r\n        x1 = maxX;\r\n        x0 -= dist;\r\n      } else {\r\n        x0 += ts.stepX;\r\n      }\r\n    }\r\n\r\n    brushes.moveSelectedBrush(\r\n      [\r\n        [x0, y0],\r\n        [x1, y1],\r\n      ],\r\n      true\r\n    );\r\n  }\r\n\r\n  function onArrowLeft() {\r\n    let selectedBrush = brushes.getSelectedBrush();\r\n    if (selectedBrush === null) return;\r\n\r\n    let [[x0, y0], [x1, y1]] = selectedBrush[1].selectionDomain;\r\n\r\n    let minX = overviewX.domain()[0];\r\n\r\n    if (hasScaleTime) {\r\n      x0 = sub(x0, ts.stepX);\r\n      if (x0 < minX) {\r\n        x0 = add(x0, ts.stepX);\r\n        let dist = intervalToDuration({ start: minX, end: x0 });\r\n        x0 = minX;\r\n        x1 = sub(x1, dist);\r\n      } else {\r\n        x1 = sub(x1, ts.stepX);\r\n      }\r\n    } else {\r\n      x0 -= ts.stepX;\r\n      if (x0 < minX) {\r\n        let dist = x0 + ts.stepX - minX;\r\n        x0 = minX;\r\n        x1 -= dist;\r\n      } else {\r\n        x1 -= ts.stepX;\r\n      }\r\n    }\r\n\r\n    brushes.moveSelectedBrush(\r\n      [\r\n        [x0, y0],\r\n        [x1, y1],\r\n      ],\r\n      true\r\n    );\r\n  }\r\n\r\n  function onArrowDown() {\r\n    let selectedBrush = brushes.getSelectedBrush();\r\n    if (selectedBrush === null) return;\r\n\r\n    let [[x0, y0], [x1, y1]] = selectedBrush[1].selectionDomain;\r\n\r\n    y1 -= ts.stepY;\r\n\r\n    let minY = overviewY.domain()[0];\r\n\r\n    if (y1 < minY) {\r\n      let dist = y1 + ts.stepY - minY;\r\n      y1 = minY;\r\n      y0 -= dist;\r\n    } else {\r\n      y0 -= ts.stepY;\r\n    }\r\n    brushes.moveSelectedBrush(\r\n      [\r\n        [x0, y0],\r\n        [x1, y1],\r\n      ],\r\n      true\r\n    );\r\n  }\r\n\r\n  function onArrowUp() {\r\n    let selectedBrush = brushes.getSelectedBrush();\r\n    if (selectedBrush === null) return;\r\n\r\n    let [[x0, y0], [x1, y1]] = selectedBrush[1].selectionDomain;\r\n\r\n    y0 += ts.stepY;\r\n\r\n    let maxY = overviewY.domain()[1];\r\n\r\n    if (y0 > maxY) {\r\n      let dist = maxY - y0 + ts.stepY;\r\n      y0 = maxY;\r\n      y1 += dist;\r\n    } else {\r\n      y1 += ts.stepY;\r\n    }\r\n\r\n    brushes.moveSelectedBrush(\r\n      [\r\n        [x0, y0],\r\n        [x1, y1],\r\n      ],\r\n      true\r\n    );\r\n  }\r\n\r\n  // To render the overview and detailed view based on the selectedData\r\n  function render(dataSelected, dataNotSelected, hasSelection) {\r\n    // Prepare the medians array to print ( only the enable groups)\r\n    let medians = [];\r\n    let enableBrushGroups = brushes.getEnableGroups();\r\n    enableBrushGroups.forEach((id) => {\r\n      if (medianBrushGroups.has(id)) {\r\n        medians.push([id, medianBrushGroups.get(id)]);\r\n      }\r\n    });\r\n\r\n    // Decide which elements are painted as selected or not, depending on the enable groups.\r\n    let mDataSelected = new Map();\r\n    let mDataNotSelected = new Set(dataNotSelected);\r\n    dataSelected.forEach((g, i) => {\r\n      if (enableBrushGroups.has(i)) {\r\n        mDataSelected.set(i, g);\r\n      } else {\r\n        g.forEach((d) => mDataNotSelected.add(d));\r\n      }\r\n    });\r\n\r\n    // Delete the groupsNotSelected in otherTs selection\r\n    let mTsElementSelection = [];\r\n    if (tsElementsSelection) {\r\n      tsElementsSelection.forEach((tsSelection) => {\r\n        if (!tsSelection) mTsElementSelection.push(null);\r\n        else {\r\n          let groupsSelected = new Map();\r\n          tsSelection.forEach((dataGroup, gId) => {\r\n            if (enableBrushGroups.has(gId)) groupsSelected.set(gId, dataGroup);\r\n          });\r\n          mTsElementSelection.push(groupsSelected);\r\n        }\r\n      });\r\n    }\r\n\r\n    // Delete the notSelected elements that are selected.\r\n    mDataSelected.forEach((d) => mDataNotSelected.delete(d));\r\n    dataNotSelected = Array.from(mDataNotSelected);\r\n\r\n    timelineOverview.render(\r\n      mDataSelected,\r\n      brushes.getBrushGroupSelected(),\r\n      showNonSelected ? dataNotSelected : [],\r\n      medians,\r\n      hasSelection,\r\n      mTsElementSelection, // print the selections made by child Elements\r\n      positionTs,\r\n      otherSelectionToHightlight\r\n    );\r\n\r\n    if (ts.hasDetails) {\r\n      let brushGroupSelected = brushes.getBrushGroupSelected();\r\n      window.requestAnimationFrame(() =>\r\n        timelineDetails.render({ data: dataSelected, brushGroupSelected })\r\n      );\r\n      // window.requestAnimationFrame(() => renderDetailsCanvas(dataSelected));\r\n    }\r\n  }\r\n\r\n  function getBrushGroupsMedians(data) {\r\n    if (!brushes.hasSelection()) return;\r\n    // TODO use d3.bin()\r\n    let minX = +overviewX.domain()[0];\r\n    let maxX = +overviewX.domain()[1];\r\n\r\n    let binW = (maxX - minX) / ts.medianNumBins;\r\n\r\n    // log(\r\n    //   \"getBrushGroupsMedians: number of bins\",\r\n    //   ts.medianNumBins,\r\n    //   \" binW \",\r\n    //   binW,\r\n    //   minX,\r\n    //   maxX\r\n    // );\r\n\r\n    for (let g of data.entries()) {\r\n      let id = g[0];\r\n\r\n      let bins = [];\r\n      let cx = minX;\r\n      for (let i = 0; i < ts.medianNumBins; ++i) {\r\n        bins.push({\r\n          x0: cx,\r\n          x1: cx + binW,\r\n          data: [],\r\n        });\r\n        cx += binW;\r\n      }\r\n      for (let line of g[1]) {\r\n        for (let point of line[1]) {\r\n          let i = Math.floor((x(point) - minX) / binW);\r\n          i = i > ts.medianNumBins - 1 ? i - 1 : i;\r\n          bins[i].data.push(y(point));\r\n        }\r\n      }\r\n\r\n      let median = [];\r\n      for (let bin of bins) {\r\n        if (bin.data.length >= ts.medianMinRecordsPerBin) {\r\n          let x = bin.x0 + (bin.x1 - bin.x0) / 2;\r\n          let y = ts.medianFn(bin.data);\r\n          median.push([x, y]);\r\n        }\r\n      }\r\n      medianBrushGroups.set(id, median);\r\n    }\r\n\r\n    log(\" Bins computed\", medianBrushGroups);\r\n  }\r\n\r\n  // Callback that is called each time the selection made by the brushes is modified.\r\n  function onSelectionChange(\r\n    newDataSelected = dataSelected,\r\n    newDataNotSelected = dataNotSelected,\r\n    hasSelection = brushes.hasSelection(),\r\n    update = true\r\n  ) {\r\n    dataSelected = newDataSelected;\r\n    dataNotSelected = newDataNotSelected;\r\n\r\n    // Filter data with active dataGroups\r\n    if (color) {\r\n      [renderSelected, renderNotSelected] = filterDatabyDataGroups(\r\n        dataSelected,\r\n        dataNotSelected\r\n      );\r\n    } else {\r\n      renderSelected = dataSelected;\r\n      renderNotSelected = dataNotSelected;\r\n    }\r\n\r\n    if (tsElements) {\r\n      ({ renderSelected, renderNotSelected } = filterByExternalSelected(\r\n        renderSelected,\r\n        renderNotSelected\r\n      ));\r\n    }\r\n\r\n    // Compute the medians if needed\r\n    if (showGroupMedian) {\r\n      getBrushGroupsMedians(renderSelected);\r\n    }\r\n\r\n    render(renderSelected, renderNotSelected, hasSelection); // Print the filtered data by active dataGroups\r\n\r\n    renderBrushesControls();\r\n    triggerValueUpdate(renderSelected);\r\n    sentSelection(renderSelected, update);\r\n  }\r\n\r\n  // Called every time the brushGroups changes\r\n  function onBrushGroupsChange() {\r\n    render(renderSelected, renderNotSelected, brushes.hasSelection());\r\n    renderBrushesControls();\r\n    triggerValueUpdate();\r\n  }\r\n\r\n  function updateStatus() {\r\n    let status = new Map();\r\n    for (let [id, brushGroup] of brushes.getBrushesGroup()) {\r\n      let Gstatus = {\r\n        id: id,\r\n        name: brushGroup.name,\r\n        isActive: brushGroup.isActive,\r\n        isEnable: brushGroup.isEnable,\r\n        brushes: brushGroup.brushes,\r\n      };\r\n      status.set(brushGroup.name, Gstatus);\r\n    }\r\n    divOverview.value.status = status;\r\n    divOverview.dispatchEvent(new Event(\"input\", { bubbles: true }));\r\n  }\r\n\r\n  // Converts the brushes map into an array\r\n  function convertBrushMapToArray(\r\n    map,\r\n    { getRepresentative = (v) => v[0], groupAttributeName = \"tw_group\" } = {}\r\n  ) {\r\n    return [...map.entries()]\r\n      .map(([group, d]) => {\r\n        const oneRepresentativePerObject = [...d.values()].map((v) => {\r\n          const representative = getRepresentative(v);\r\n          representative[groupAttributeName] = group;\r\n          return representative;\r\n        });\r\n        return oneRepresentativePerObject;\r\n      })\r\n      .flat();\r\n  }\r\n\r\n  // Triggers the update of the selection calls callback and dispatches input event\r\n  function triggerValueUpdate(sel = renderSelected) {\r\n    let value = new Map();\r\n\r\n    for (let [id, brushGroup] of brushes.getBrushesGroup()) {\r\n      let groupMap = new Map();\r\n      sel.get(id).forEach((d) => groupMap.set(d[0], d[1]));\r\n      value.set(brushGroup.name, groupMap);\r\n    }\r\n\r\n    divOverview.value = value;\r\n    divOverview.value.groupsColorScale = brushesColorScale;\r\n    divOverview.value.nonSelectedIds = dataNotSelected.map((d) => d[0]);\r\n    divOverview.value.selectedIds = dataSelected\r\n      .get(brushes.getBrushGroupSelected())\r\n      .map((d) => d[0]);\r\n    divOverview.value.selectedGroup = brushes\r\n      .getBrushesGroup()\r\n      .get(brushes.getBrushGroupSelected()).name;\r\n    divOverview.value.asArray = (params) =>\r\n      convertBrushMapToArray(value, params);\r\n    divOverview.extent = {\r\n      x: overviewX.domain(),\r\n      y: overviewY.domain(),\r\n    };\r\n    divOverview.brushGroups = brushes.getBrushesGroup();\r\n    updateStatus();\r\n  }\r\n\r\n  function sentSelection(selection, update) {\r\n    //if (brushes.hasSelection()) {\r\n    let eventSelection = new CustomEvent(\"TimeWidget\", {\r\n      detail: {\r\n        type: eventType.changeSelection,\r\n        data: brushes.hasSelection() ? selection : null,\r\n      },\r\n    });\r\n\r\n    sentEvent(eventSelection);\r\n\r\n    if (update) {\r\n      let eventUpdate = new CustomEvent(\"TimeWidget\", {\r\n        detail: {\r\n          type: eventType.update,\r\n        },\r\n      });\r\n      sentEvent(eventUpdate);\r\n    }\r\n\r\n    render(renderSelected, renderNotSelected, brushes.hasSelection());\r\n    //}\r\n  }\r\n\r\n  // Send a customEvent to all TimeWidgets but the sender\r\n  function sentEvent(customEvent) {\r\n    customEvent.detail.sourceId = positionTs;\r\n    if (!tsElements) return;\r\n\r\n    tsElements.forEach((otherTs, id) => {\r\n      if (id !== positionTs) otherTs.dispatchEvent(customEvent);\r\n    });\r\n  }\r\n\r\n  function onTimeWidgetEvent(event) {\r\n    let eventData = event.detail;\r\n    log(\r\n      \"customEvent\",\r\n      \"destination\",\r\n      positionTs,\r\n      \"source\",\r\n      eventData.sourceId,\r\n      eventData.type\r\n    );\r\n    switch (eventData.type) {\r\n      case eventType.changeSelection:\r\n        tsElementsSelection[eventData.sourceId] = eventData.data;\r\n        break;\r\n      case eventType.update:\r\n        onUpdateEvent(eventData.sourceId, eventData.data);\r\n        break;\r\n      case eventType.addBrushGroup:\r\n        brushes.addBrushGroup();\r\n        break;\r\n      case eventType.removeBrushGroup:\r\n        brushes.removeBrushGroup(eventData.data);\r\n        break;\r\n      case eventType.selectBrushGroup:\r\n        brushes.selectBrushGroup(eventData.data);\r\n        break;\r\n      case eventType.changeBrushGroupState:\r\n        brushes.changeBrushGroupState(\r\n          eventData.data.id,\r\n          eventData.data.newState\r\n        );\r\n        break;\r\n      case eventType.deselectAllBrushes:\r\n        brushes.deselectBrush();\r\n        break;\r\n      case eventType.highlightSelection:\r\n        if (eventData.data) {\r\n          otherSelectionToHightlight = {\r\n            positionTs: eventData.data.positionTs,\r\n            groupId: eventData.data.groupId,\r\n          };\r\n        } else {\r\n          otherSelectionToHightlight = null;\r\n        }\r\n        render(renderSelected, renderNotSelected, brushes.hasSelection());\r\n        break;\r\n      case eventType.changeNonSelected:\r\n        showNonSelected = eventData.data.newState;\r\n        onSelectionChange();\r\n        break;\r\n      default:\r\n        log(\"unsupported event\", eventData);\r\n    }\r\n  }\r\n\r\n  function onUpdateEvent(tsId) {\r\n    // Only update the selection of the children, the parents only repaint\r\n    if (positionTs <= tsId) {\r\n      render(renderSelected, renderNotSelected, brushes.hasSelection());\r\n    } else {\r\n      onSelectionChange(\r\n        dataSelected,\r\n        dataNotSelected,\r\n        brushes.hasSelection(),\r\n        false\r\n      );\r\n    }\r\n  }\r\n\r\n  function changeBrushNames() {\r\n    if (tsElements) {\r\n      let groups = brushes.getBrushesGroup();\r\n      groups.forEach((group, id) => {\r\n        brushes.updateBrushGroupName(id, group.name + \".\" + positionTs);\r\n      });\r\n    }\r\n  }\r\n\r\n  function filterByExternalSelected(dataSelected, dataNotSelected) {\r\n    if (!tsElementsSelection || positionTs === 0) {\r\n      return {\r\n        renderSelected: dataSelected,\r\n        renderNotSelected: dataNotSelected,\r\n      };\r\n    }\r\n\r\n    /*\r\n        // compute a map that contains the data Ids selected in upper levels by brushGroups\r\n        let flatSelections = new Map();\r\n        tsElementsSelection.forEach((tsSelection, ix) => {\r\n          if (positionTs > ix) {\r\n            tsSelection.forEach((g, gId) => {\r\n              if (!flatSelections.has(gId)) {\r\n                flatSelections.set(gId, new Set());\r\n              }\r\n              g.forEach((d) => flatSelections.get(gId).add(d[0]));\r\n            });\r\n          }\r\n        }); */\r\n\r\n    let allSelected = new Set();\r\n    let previousSelected = new Map();\r\n\r\n    // Find the closes TS with selection made\r\n    let lastWithSelection;\r\n    for (let i = positionTs - 1; i >= 0; i--) {\r\n      if (tsElementsSelection[i]) {\r\n        lastWithSelection = i;\r\n        break;\r\n      }\r\n    }\r\n    // Filter with the last selection made.\r\n    if (lastWithSelection !== undefined) {\r\n      // do this because if(0) is false\r\n      tsElementsSelection[lastWithSelection].forEach((g, gId) => {\r\n        let selectedSet = new Set();\r\n        g.forEach((d) => {\r\n          selectedSet.add(d[0]);\r\n          allSelected.add(d[0]);\r\n        });\r\n        previousSelected.set(gId, selectedSet);\r\n      });\r\n\r\n      let fDataSelected = new Map();\r\n      dataSelected.forEach((g, id) => {\r\n        if (previousSelected.has(id)) {\r\n          let gFilter = g.filter((d) => previousSelected.get(id).has(d[0]));\r\n          fDataSelected.set(id, gFilter);\r\n        } else {\r\n          fDataSelected.set(id, g);\r\n        }\r\n      });\r\n\r\n      let fDataNotSelected = dataNotSelected.filter((d) =>\r\n        allSelected.has(d[0])\r\n      );\r\n      return {\r\n        renderSelected: fDataSelected,\r\n        renderNotSelected: fDataNotSelected,\r\n      };\r\n    } else {\r\n      return {\r\n        renderSelected: dataSelected,\r\n        renderNotSelected: dataNotSelected,\r\n      };\r\n    }\r\n  }\r\n\r\n  /*function brushesToDomain(brushesGroup) {\r\n      let selectedBrush = brushes.getSelectedBrush();\r\n      let outMap = new Map();\r\n      for (let brushGroup of brushesGroup.entries()) {\r\n        let innerMap = new Map();\r\n        for (let brush of brushGroup[1].entries()) {\r\n          if (brush[1].selection !== null) {\r\n            let nBrush = Object.assign({}, brush[1]);\r\n\r\n            // pixels\r\n            let [[x0, y0], [x1, y1]] = brush[1].selection;\r\n            nBrush.selectionPixels = [\r\n              [x0, y0],\r\n              [x1, y1],\r\n            ];\r\n\r\n            // data domain\r\n            let [[xi0, yi0], [xi1, yi1]] = brush[1].selection.map(([x, y]) => [\r\n              overviewX.invert(x),\r\n              overviewY.invert(y),\r\n            ]);\r\n            nBrush.selection = [\r\n              [xi0, yi0],\r\n              [xi1, yi1],\r\n            ];\r\n\r\n            nBrush.isActive = !!selectedBrush && selectedBrush[0] === brush[0];\r\n\r\n            innerMap.set(brush[0], nBrush);\r\n          }\r\n        }\r\n        outMap.set(brushGroup[0], innerMap);\r\n      }\r\n      return outMap;\r\n    } */\r\n\r\n  ts.addReferenceCurves = function (curves) {\r\n    if (!overviewX) return;\r\n    if (!Array.isArray(curves)) {\r\n      throw new Error(\"The reference curves must be an array of Objects\");\r\n    }\r\n    let domainX = overviewX.domain();\r\n    let domainY = overviewY.domain();\r\n\r\n    curves.forEach((c) => {\r\n      c.data.sort((a, b) => d3.ascending(x(a), x(b)));\r\n      c.data = c.data.filter(\r\n        (p) =>\r\n          p[0] >= domainX[0] &&\r\n          p[0] <= domainX[1] &&\r\n          p[1] >= domainY[0] &&\r\n          p[1] <= domainY[1]\r\n      );\r\n    });\r\n\r\n    let line2 = d3\r\n      .line()\r\n      .defined((d) => d[1] !== undefined && d[1] !== null)\r\n      .x((d) => overviewX(d[0]))\r\n      .y((d) => overviewY(d[1]));\r\n\r\n    gReferences\r\n      .selectAll(\".referenceCurve\")\r\n      .data(curves)\r\n      .join(\"path\")\r\n      .attr(\"class\", \"referenceCurve\")\r\n      .attr(\"d\", (c) => line2(c.data))\r\n      .attr(\"stroke-width\", (c) => c.strokeWidth || 2)\r\n      .style(\"fill\", \"none\")\r\n      .style(\"stroke\", (c) => c.color)\r\n      .style(\"opacity\", (c) => c.opacity);\r\n  };\r\n\r\n  // Función simple para dibujar líneas algebraicas\r\n  ts.addAlgebraicLine = function(equation, options = {}) {\r\n    if (!overviewX) return;\r\n    \r\n    const {\r\n      color = \"#ff0000\",\r\n      opacity = 0.8,\r\n      strokeWidth = 2,\r\n      numPoints = 100,\r\n      xRange = null\r\n    } = options;\r\n\r\n    // Usar el dominio actual si no se especifica rango\r\n    const domainX = xRange || overviewX.domain();\r\n    const [xMin, xMax] = domainX;\r\n    \r\n    // Determinar si estamos trabajando con fechas o números\r\n    const isTimeScale = xMin instanceof Date;\r\n    \r\n    // Convertir dominio a números para generar los puntos\r\n    let xMinNum, xMaxNum;\r\n    \r\n    if (isTimeScale) {\r\n      // Para escalas de tiempo, convertir a números (milisegundos)\r\n      xMinNum = xMin.getTime();\r\n      xMaxNum = xMax.getTime();\r\n    } else {\r\n      // Para escalas lineales, usar directamente\r\n      xMinNum = Number(xMin);\r\n      xMaxNum = Number(xMax);\r\n    }\r\n    \r\n    const step = (xMaxNum - xMinNum) / (numPoints - 1);\r\n    \r\n    // Generar puntos de la función algebraica\r\n    const points = [];\r\n    for (let i = 0; i < numPoints; i++) {\r\n      const xNumVal = xMinNum + i * step;\r\n      \r\n      // Preparar el valor x para la ecuación según el tipo de escala\r\n      let xForEquation;\r\n      let xForData; // Valor que va en el array de datos final\r\n      \r\n      if (isTimeScale) {\r\n        // Para fechas, crear objeto Date y también guardarlo para los datos\r\n        xForEquation = new Date(xNumVal);\r\n        xForData = new Date(xNumVal);\r\n      } else {\r\n        // Para números, usar directamente\r\n        xForEquation = xNumVal;\r\n        xForData = xNumVal;\r\n      }\r\n      \r\n      try {\r\n        const yVal = equation(xForEquation);\r\n        if (isFinite(yVal)) {\r\n          // Los datos deben estar en formato [x, y] en unidades de datos originales\r\n          points.push([xForData, yVal]);\r\n        }\r\n      } catch (e) {\r\n        // Ignorar puntos donde la función no está definida\r\n        continue;\r\n      }\r\n    }\r\n\r\n    if (points.length === 0) {\r\n      console.warn(\"No se generaron puntos válidos para la línea algebraica\");\r\n      return;\r\n    }\r\n\r\n    // Crear curva de referencia usando el formato estándar\r\n    const curve = {\r\n      data: points,\r\n      color: color,\r\n      opacity: opacity,\r\n      strokeWidth: strokeWidth\r\n    };\r\n\r\n    // Usar el sistema existente de referencias\r\n    ts.addReferenceCurves([curve]);\r\n  };\r\n\r\n  ts.updateCallback = function (_) {\r\n    return arguments.length ? ((updateCallback = _), ts) : updateCallback;\r\n  };\r\n\r\n  ts.statusCallback = function (_) {\r\n    return arguments.length ? ((statusCallback = _), ts) : statusCallback;\r\n  };\r\n\r\n  // Notify a parent TimeWidget the presence of a child, and calculate the total\r\n  // TimeWidget linked and the position of each of them.\r\n  ts.notifyParent = function (linkedTs, childs) {\r\n    linkedTs.unshift(target);\r\n    if (tsParent) tsElements = tsParent.notifyParent(linkedTs, childs + 1);\r\n    else tsElements = linkedTs;\r\n\r\n    positionTs = tsElements.length - 1 - childs;\r\n\r\n    if (brushes) brushes.setTsPosition(positionTs);\r\n    if (groupedData) sentSelection(renderSelected, false);\r\n\r\n    return tsElements;\r\n  };\r\n\r\n  ts.data = function (_data) {\r\n    data = _data;\r\n    log(\" Processing data: ... \", data.length);\r\n    // Ignore null values. Shouldn't be y(d) && x(d) because y(d) can be 0\r\n    fData = data.filter(\r\n      (d) =>\r\n        y(d) !== undefined &&\r\n        y(d) !== null &&\r\n        x(d) !== undefined &&\r\n        x(d) !== null\r\n    );\r\n\r\n    let xDataType = typeof x(fData[0]);\r\n\r\n    initDomains({ xDataType, fData });\r\n\r\n    fData = fData.filter(\r\n      (d) => !isNaN(overviewX(x(d))) && !isNaN(overviewY(y(d)))\r\n    );\r\n\r\n    groupedData = d3.groups(fData, id);\r\n\r\n    groupedData.map((d) => [\r\n      d[0],\r\n      d[1].sort((a, b) => d3.ascending(x(a), x(b))),\r\n    ]);\r\n\r\n    ts.alphaScale.domain([0, groupedData.length]);\r\n\r\n    // Limit the number of timelines\r\n    if (maxTimelines) groupedData = groupedData.slice(0, maxTimelines);\r\n    init();\r\n\r\n    timelineOverview.setScales({\r\n      scaleX: overviewX,\r\n      scaleY: overviewY,\r\n    });\r\n    timelineOverview.data(groupedData);\r\n\r\n    generateDataSelectionDiv();\r\n\r\n    initDetails({ overviewX, overviewY });\r\n\r\n    dataSelected.set(0, []);\r\n    renderSelected = dataSelected;\r\n    dataNotSelected = groupedData;\r\n    renderNotSelected = dataNotSelected;\r\n\r\n    if (_this) brushes.addFilters(_this.value.status, true);\r\n    else if (filters) brushes.addFilters(filters, true);\r\n\r\n    onSelectionChange();\r\n  };\r\n\r\n  if (tsParent) {\r\n    ts.notifyParent([], 0);\r\n    // Add the own selection\r\n    tsElementsSelection[positionTs] = null;\r\n  }\r\n\r\n  // If we receive the data on initialization call ts.Data\r\n  if (data && x && y && id) {\r\n    ts.data(data);\r\n  } else {\r\n    overviewX = d3\r\n      .scaleLinear()\r\n      .range([0, width - ts.margin.right - ts.margin.left]);\r\n\r\n    overviewY = d3\r\n      .scaleLinear()\r\n      .range([height - ts.margin.top - ts.margin.bottom, 0])\r\n      .nice()\r\n      .clamp(true);\r\n    init();\r\n  }\r\n\r\n  if (referenceCurves) {\r\n    ts.addReferenceCurves(referenceCurves);\r\n  }\r\n\r\n  // To allow a message from the outside to rerender\r\n  ts.render = () => {\r\n    // render(dataSelected, dataNotSelected);\r\n    onSelectionChange();\r\n  };\r\n\r\n  // Remove possible previous event listener\r\n  //target.removeEventListener(\"TimeWidget\", onTimeWidgetEvent);\r\n\r\n  // Make the ts object accessible\r\n  divOverview.ts = ts;\r\n  divOverview.details = detailsElement;\r\n  divOverview.brushesCoordinates = brushesCoordinates;\r\n  divOverview.groups = groupsElement;\r\n  return divOverview;\r\n}\r\n\r\nexport default TimeWidget;\r\n"],"names":["_typeof","htl.html","brushTooltipEditable"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,32,34]}